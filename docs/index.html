<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/Dive-into-iOS-interview/assets/css/style.css?v=d91cd563bf6e96f83e49b27cf4e547d2e76fbf7e">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup theme-color -->
<!-- start theme color meta headers -->
<meta name="theme-color" content="#151515">
<meta name="msapplication-navbutton-color" content="#151515">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- end theme color meta headers -->


<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/Dive-into-iOS-interview/favicon.ico" -->

<!-- end custom head snippets -->


<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Dive-into-iOS-interview | æœ€è¿‘é¢è¯•çš„ä¸€äº›è®°å½•</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Dive-into-iOS-interview" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="æœ€è¿‘é¢è¯•çš„ä¸€äº›è®°å½•" />
<meta property="og:description" content="æœ€è¿‘é¢è¯•çš„ä¸€äº›è®°å½•" />
<link rel="canonical" href="/Dive-into-iOS-interview/" />
<meta property="og:url" content="/Dive-into-iOS-interview/" />
<meta property="og:site_name" content="Dive-into-iOS-interview" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Dive-into-iOS-interview" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"æœ€è¿‘é¢è¯•çš„ä¸€äº›è®°å½•","headline":"Dive-into-iOS-interview","name":"Dive-into-iOS-interview","url":"/Dive-into-iOS-interview/"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <header>
      <div class="container">
        <a id="a-title" href="/Dive-into-iOS-interview/">
          <h1>Dive-into-iOS-interview</h1>
        </a>
        <h2>æœ€è¿‘é¢è¯•çš„ä¸€äº›è®°å½•</h2>

        <section id="downloads">
          
          <a href="https://github.com/Hippo0x0/Dive-into-iOS-interview2" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1 id="dive-into-ios-interview">Dive-into-iOS-interview</h1>

<p>ç»è¿‡ä¸€ä¸ªæœˆçš„é¢è¯•, ç•™ä¸‹æ¥ä¸€äº›ææ–™, æ•´ç†éƒ¨ç½²ä¸€ä¸‹.</p>

<p>å‘¨æœŸä¸Š, å¿«çš„è¯ä¸€ä¸ªæœˆï¼Œæ…¢çš„è¯ä¸¤ä¸ªæœˆã€‚</p>

<p>ç¬¬ä¸€å‘¨å¯ä»¥ä¸€å¤© <code class="language-plaintext highlighter-rouge">1</code> é¢ï¼Œæˆ–è€…ä¸€å¤© <code class="language-plaintext highlighter-rouge">2</code> é¢ã€‚ç¬¬äºŒå‘¨ç¬¬ä¸‰å‘¨ä¸€å¤© <code class="language-plaintext highlighter-rouge">3</code> é¢ï¼ŒåŠ ä¸ŠHRé¢å¯ä»¥åˆ° <code class="language-plaintext highlighter-rouge">4</code> é¢ï¼Œç¬¬å››å‘¨å¼€å§‹å‡å°‘ã€‚</p>

<p>å¸‚åœºæƒ…å†µ: å¥½çš„æ—¶å€™å¯ä»¥å¯†é›†é¢è¯•, åŸºæœ¬è¿˜æ˜¯å¤§å‚éœ€æ±‚å¤š. å¸‚åœºç–²è½¯çš„æ—¶å€™, å¤šåˆ·é¢˜å§ğŸ¶.</p>

<h2 id="ææ–™">ææ–™:</h2>

<ul>
  <li>
    <p><a href="https://leetcode.cn/">åŠ›æ‰£</a> åˆ·é¢˜</p>

    <p>åˆ·é¢˜400é“ä»¥ä¸Š, å»ºè®®ç”¨ <code class="language-plaintext highlighter-rouge">Python</code> , æé«˜æ•ˆç‡, æ ¹æ®é¢˜å•å¿«é€Ÿåˆ·, æ¯å¤©åå¤šé“.</p>

    <p>æ¨è: <a href="https://labuladong.github.io/algo/home/">https://labuladong.github.io/algo/home/</a></p>
  </li>
  <li>
    <p><a href="https://hit-alibaba.github.io/interview/iOS/">hit-alibaba-iOS</a> é¦–é€‰ææ–™</p>

    <p>iOSéƒ¨åˆ†éƒ½è¿‡ä¸€é, åŸºæœ¬æ»¡è¶³ç»å¤§éƒ¨åˆ†é¢è¯•çš„ <code class="language-plaintext highlighter-rouge">objc</code> éƒ¨åˆ†çš„é—®é¢˜.</p>
  </li>
  <li>
    <p><a href="http://www.cyc2018.xyz/">CS-Note</a> è®¡ç®—æœºåŸºç¡€</p>

    <p>è¿‡ä¸€é, ç¤¾æ‹›çœ‹çœ‹å¸¸è€ƒçš„å°±è¡Œã€‚é¢åˆ°ä¸€äº›leaderé¢æ—¶, å®¹æ˜“è€ƒåº•å±‚çŸ¥è¯†, è¿›ç¨‹è°ƒåº¦ç­‰ã€‚</p>
  </li>
  <li>
    <p><a href="https://oi-wiki.org/graph/bfs/">io-wiki</a> å¾ˆä¸é”™çš„IOç½‘ç«™, [Optional]</p>
  </li>
  <li>
    <p><a href="https://baguwen.iosprogrammer.tech/docs/ios/8-threading.html">iOS é¢è¯•å…«è‚¡æ–‡</a> ä½œä¸ºè¡¥å……</p>
  </li>
  <li>
    <p><a href="https://business.linkedin.com/zh-cn/talent-solutions/talent-blog/recruitment-faq">HRé¢è¯•é—®é¢˜</a> å¼€æ”¾æ€§é—®é¢˜</p>
  </li>
</ul>

<h2 id="å¹³å°">å¹³å°</h2>

<ul>
  <li><a href="https://www.zhipin.com/web/geek/chat?ka=header-message">https://www.zhipin.com/web/geek/chat?ka=header-message</a></li>
  <li><a href="https://maimai.cn/web/feed_explore">https://maimai.cn/web/feed_explore</a></li>
</ul>

<h2 id="ç®—æ³•ç¬”è®°">ç®—æ³•ç¬”è®°</h2>

<h3 id="æ¨¡æ‹Ÿ">æ¨¡æ‹Ÿ</h3>

<p><a href="https://leetcode-cn.com/problems/teemo-attacking/">æè«æ”»å‡»</a>, æ¨¡æ‹Ÿæ•´ä¸ªè¿‡ç¨‹</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findPoisonedDuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeSeries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">duration</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">expired</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">begin</span> <span class="ow">in</span> <span class="n">timeSeries</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">expired</span> <span class="o">&gt;</span> <span class="n">begin</span><span class="p">:</span>
                <span class="n">ans</span> <span class="o">+=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">duration</span> <span class="o">-</span> <span class="n">expired</span> <span class="c1"># æœ¬æ¬¡éœ€è¦å¢åŠ çš„æ•°å€¼
</span>            <span class="k">else</span><span class="p">:</span>
                <span class="n">ans</span> <span class="o">+=</span> <span class="n">duration</span>
            <span class="n">expired</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">duration</span>
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

<h3 id="å¤šçº¿ç¨‹">å¤šçº¿ç¨‹</h3>

<p>æŒ‰åºåˆ—æ‰“å°ï¼šé”äº¤æ›¿</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">threading</span>
<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="c1"># ä¸€ç§å…ˆåé¡ºåºçš„çº¦æŸï¼Œfirstï¼Œ second, third, ä¿æŠ¤ 2åœ¨1ä¹‹åï¼Œ3åœ¨2ä¹‹å
</span>    <span class="c1"># Lock å¯¹åº”çš„æ˜¯ä¸€ç§å•ä¸ªèµ„æºçš„äº’æ–¥ï¼Œæˆ‘ä»¬å¾ˆéš¾åªç”¨å®ƒæ¨¡æ‹Ÿå‡ºå¯¹äºå¤šä¸ªèµ„æºçš„äº’æ–¥ã€‚
</span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">fl</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="n">Lock</span><span class="p">()</span> <span class="c1"># first
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">sl</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="n">Lock</span><span class="p">()</span> <span class="c1"># second
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">fl</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">sl</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
        <span class="k">pass</span>
    <span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">printFirst</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>

        <span class="c1"># printFirst() outputs "first". Do not change or remove this line.
</span>        <span class="n">printFirst</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">fl</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>


    <span class="k">def</span> <span class="nf">second</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">printSecond</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="c1"># printSecond() outputs "second". Do not change or remove this line.
</span>        <span class="k">with</span> <span class="bp">self</span><span class="p">.</span><span class="n">fl</span><span class="p">:</span>
            <span class="n">printSecond</span><span class="p">()</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">sl</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>


    <span class="k">def</span> <span class="nf">third</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">printThird</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span><span class="p">.</span><span class="n">sl</span><span class="p">:</span>
        <span class="c1"># printThird() outputs "third". Do not change or remove this line.
</span>            <span class="n">printThird</span><span class="p">()</span>
</code></pre></div></div>

<p>H2O: ä¿¡å·é‡ç”Ÿæˆæ°´</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">threading</span>
<span class="k">class</span> <span class="nc">H2O</span><span class="p">:</span>
    <span class="c1"># ä¸€ç§æ•°é‡çº¦æŸï¼Œä¿æŠ¤ç”Ÿæˆç¬¬äºŒä¸ªoä¹‹å‰ä¸Šä¸ªoæœ‰2ä¸ªhï¼Œ ä¿æŠ¤ç”Ÿæˆç¬¬3ä¸ªhä¹‹å‰å‰2ä¸ªhæœ‰1ä¸ªo
</span>    <span class="c1"># ä¿¡å·é‡å¯¹åº”çš„æ˜¯ä¸€ç§å¤šä¸ªèµ„æºæ•´ä½“çš„äº’æ–¥, å¾ˆéš¾ç”¨å•ä¸€çš„é”æ¥æ¨¡æ‹Ÿ
</span>    <span class="c1"># sema.release() å¯ä»¥åœ¨æ²¡æœ‰acquireçš„æ—¶å€™è°ƒç”¨ï¼Œä¸ä¼šcrash, å†…éƒ¨counter + 1. è¿™ä¸ªç”¨é”å¾ˆéš¾æ¨¡æ‹Ÿã€‚
</span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">osm</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="n">Semaphore</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># å¯è¿›å…¥ä¸€æ¬¡
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">hsm</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="n">Semaphore</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># å¯è¿›å…¥ä¸¤æ¬¡, éœ€è¦ç”¨ä¿¡å·é‡ï¼Œå¯ä»¥é‡Šæ”¾è¶…è¿‡1æ¬¡
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">no</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">nh</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">pass</span>


    <span class="k">def</span> <span class="nf">hydrogen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">releaseHydrogen</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>

        <span class="c1"># releaseHydrogen() outputs "H". Do not change or remove this line.
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">hsm</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
        <span class="n">releaseHydrogen</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">nh</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">nh</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">nh</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">osm</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>


    <span class="k">def</span> <span class="nf">oxygen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">releaseOxygen</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>

        <span class="c1"># releaseOxygen() outputs "O". Do not change or remove this line.
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">osm</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
        <span class="n">releaseOxygen</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">no</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">no</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">no</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">hsm</span><span class="p">.</span><span class="n">release</span><span class="p">()</span> 
            <span class="bp">self</span><span class="p">.</span><span class="n">hsm</span><span class="p">.</span><span class="n">release</span><span class="p">()</span> <span class="c1"># å¦‚æœåªç”Ÿäº§ä¸€ä¸ªH, ç”¨ä¿¡å·é‡ï¼Œè¿™é‡Œæ‰ä¸ä¼šå‡ºé”™
</span></code></pre></div></div>

<p>äº¤æ›¿æ‰“å°å­—ç¬¦ä¸²ï¼šé€šè¿‡å…±äº«çš„å˜é‡ï¼Œåˆ¤å®šéœ€è¦é‡Šæ”¾å“ªä¸€ä¸ªé”</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">threading</span>
<span class="s">""" çº¦æŸè°ƒç”¨ä¸å¦ï¼Œä»¥åŠè°ƒç”¨é¡ºåº """</span>
<span class="k">class</span> <span class="nc">FizzBuzz</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="n">n</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">numLock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="n">Lock</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">fizLock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="n">Lock</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">buzLock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="n">Lock</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">fizbuzLock</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="n">Lock</span><span class="p">()</span>
        
        <span class="c1"># å»numberåˆ¤æ–­é¡ºåº
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">fizLock</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">buzLock</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">fizbuzLock</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>

    <span class="c1"># printFizz() outputs "fizz"
</span>    <span class="k">def</span> <span class="nf">fizz</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">printFizz</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">fizLock</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
                <span class="n">printFizz</span><span class="p">()</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">numLock</span><span class="p">.</span><span class="n">release</span><span class="p">()</span> <span class="c1"># å»numberåˆ¤æ–­é¡ºåº
</span>

    <span class="c1"># printBuzz() outputs "buzz"
</span>    <span class="k">def</span> <span class="nf">buzz</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">printBuzz</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">3</span>  <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">buzLock</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
                <span class="n">printBuzz</span><span class="p">()</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">numLock</span><span class="p">.</span><span class="n">release</span><span class="p">()</span> <span class="c1"># å»numberåˆ¤æ–­é¡ºåº
</span>

    <span class="c1"># printFizzBuzz() outputs "fizzbuzz"
</span>    <span class="k">def</span> <span class="nf">fizzbuzz</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">printFizzBuzz</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">fizbuzLock</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
                <span class="n">printFizzBuzz</span><span class="p">()</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">numLock</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>  <span class="c1"># å»numberåˆ¤æ–­é¡ºåº
</span>

    <span class="c1"># printNumber(x) outputs "x", where x is an integer.
</span>    <span class="k">def</span> <span class="nf">number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">printNumber</span><span class="p">:</span> <span class="s">'Callable[[int], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">numLock</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">printNumber</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">numLock</span><span class="p">.</span><span class="n">release</span><span class="p">()</span> <span class="c1"># å»numberåˆ¤æ–­é¡ºåº
</span>            <span class="k">elif</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">fizbuzLock</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">fizLock</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">buzLock</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>
</code></pre></div></div>

<p>å“²å­¦å®¶è¿›é¤</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Lock</span>
<span class="k">class</span> <span class="nc">DiningPhilosophers</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">lock</span> <span class="o">=</span> <span class="n">Lock</span><span class="p">()</span> <span class="c1"># å•ä¸ªé”, åªè®©ä¸€ä¸ªäººåƒ
</span>
    <span class="c1"># call the functions directly to execute, for example, eat()
</span>    <span class="k">def</span> <span class="nf">wantsToEat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                   <span class="n">philosopher</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                   <span class="n">pickLeftFork</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">,</span>
                   <span class="n">pickRightFork</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">,</span>
                   <span class="n">eat</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">,</span>
                   <span class="n">putLeftFork</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">,</span>
                   <span class="n">putRightFork</span><span class="p">:</span> <span class="s">'Callable[[], None]'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        
        
        <span class="k">with</span> <span class="bp">self</span><span class="p">.</span><span class="n">lock</span><span class="p">:</span>
            <span class="n">pickLeftFork</span><span class="p">()</span>
            <span class="n">pickRightFork</span><span class="p">()</span>
            <span class="n">eat</span><span class="p">()</span>
            <span class="n">putLeftFork</span><span class="p">()</span>
            <span class="n">putRightFork</span><span class="p">()</span>

<span class="s">""" å¥‡æ•°å…ˆæ‹¿åšï¼Œ å¶æ•°å…ˆæ‹¿å³
from threading import Lock
class DiningPhilosophers:

    def __init__(self):
        self.forklocks = [Lock() for _ in range(5)]

    # call the functions directly to execute, for example, eat()
    def wantsToEat(self,
                   philosopher: int,
                   pickLeftFork: 'Callable[[], None]',
                   pickRightFork: 'Callable[[], None]',
                   eat: 'Callable[[], None]',
                   putLeftFork: 'Callable[[], None]',
                   putRightFork: 'Callable[[], None]') -&gt; None:
        
        l = philosopher
        r = (philosopher + 1) % 5
        # å¥‡æ•°å…ˆæ‹¿å·¦è¾¹å‰å­
        if philosopher % 2 == 1:
            self.forklocks[l].acquire()
            self.forklocks[r].acquire()
        else:
            self.forklocks[r].acquire()
            self.forklocks[l].acquire()
        pickLeftFork()
        pickRightFork()        
        eat()
        putLeftFork()
        putRightFork()
        self.forklocks[l].release()
        self.forklocks[r].release()
"""</span>

<span class="s">""" é™åˆ¶å°±é¤äººæ•°+å‰å­é”

import threading
class DiningPhilosophers:

    def __init__(self):
        self.limit = threading.Semaphore(4)
        self.forklocks = [threading.Lock() for _ in range(5)]

    # call the functions directly to execute, for example, eat()
    def wantsToEat(self,
                   philosopher: int,
                   pickLeftFork: 'Callable[[], None]',
                   pickRightFork: 'Callable[[], None]',
                   eat: 'Callable[[], None]',
                   putLeftFork: 'Callable[[], None]',
                   putRightFork: 'Callable[[], None]') -&gt; None:
        
        self.limit.acquire()

        l = philosopher
        r = (philosopher + 1) % 5
        self.forklocks[l].acquire()
        self.forklocks[r].acquire()

        pickLeftFork()
        pickRightFork()
        eat()
        putLeftFork()
        self.forklocks[l].release()
        putRightFork()
        self.forklocks[r].release()

        self.limit.release()
"""</span>

</code></pre></div></div>

<h2 id="å­—ç¬¦ä¸²">å­—ç¬¦ä¸²</h2>

<p><a href="https://leetcode.cn/problems/string-rotation-lcci/">é¢è¯•é¢˜ 01.09. å­—ç¬¦ä¸²è½®è½¬</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isFlipedString</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">s2</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">s1</span> <span class="o">+</span> <span class="n">s1</span><span class="p">).</span><span class="n">find</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span>  <span class="c1"># è¿™ä¸ªè¿˜æŒºæœ‰æ„æ€çš„
</span></code></pre></div></div>

<h3 id="äºŒåˆ†">äºŒåˆ†</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">right</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span>
            <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">mid</span>
            <span class="k">elif</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">:</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">:</span>
                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">left</span> <span class="c1"># leftä¸ºæœ€ç»ˆæ‰¾åˆ°çš„ä½ç½®ï¼Œ æ²¡æ‰¾åˆ°åˆ™ä¸ºæ’å…¥ä½ç½®
</span>
        <span class="c1"># å·¦è¾¹ç•Œ
</span>        <span class="k">def</span> <span class="nf">left_bound</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
            <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">right</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        
            <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span> <span class="c1"># right &lt; leftæ—¶ï¼Œ break
</span>                <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
                <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                    <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span> <span class="c1"># æ”¶ç¼©å³è¾¹ç•Œ
</span>                <span class="k">elif</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">:</span>
                    <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">:</span>
                    <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        
            <span class="k">if</span> <span class="n">left</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="ow">or</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">!=</span> <span class="n">target</span><span class="p">:</span>
                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">return</span> <span class="n">left</span>
        
        <span class="c1"># å³è¾¹ç•Œ
</span>        <span class="k">def</span> <span class="nf">right_bound</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
            <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">right</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        
            <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span> <span class="c1"># left &gt; rightæ—¶, break
</span>                <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
                <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span> <span class="c1"># æ”¶ç¼©å·¦è¾¹
</span>                    <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">:</span>
                    <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">:</span>
                    <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
        
            <span class="k">if</span> <span class="n">right</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">!=</span> <span class="n">target</span><span class="p">:</span>
                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        
            <span class="k">return</span> <span class="n">right</span>
        
        <span class="k">return</span> <span class="p">[</span><span class="n">left_bound</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">target</span><span class="p">),</span> <span class="n">right_bound</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">target</span><span class="p">)]</span>
</code></pre></div></div>

<h2 id="æ’åº">æ’åº</h2>

<p><a href="https://leetcode-cn.com/problems/missing-number/">ä¸¢å¤±çš„æ•°å­—</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">missingNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># å†’æ³¡æ’åº
</span>        <span class="k">def</span> <span class="nf">bubbleSort</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]):</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">):</span> <span class="c1"># n - 1 - i
</span>                    <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
                        <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="c1"># é€‰æ‹©æ’åº, é€‰æ‹©æœ€å¤§å€¼,æ”¾åˆ°æœ‰åºçš„å°¾å·´
</span>        <span class="k">def</span> <span class="nf">selectSort</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]):</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="n">selmax</span> <span class="o">=</span> <span class="n">i</span>  
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">selmax</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
                        <span class="n">sel</span> <span class="o">=</span> <span class="n">j</span>
                <span class="n">nums</span><span class="p">[</span><span class="n">selmax</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">selmax</span><span class="p">]</span>

        <span class="c1"># æ’å…¥æ’åºï¼Œé€‰æ‹©ä¸€ä¸ªï¼Œå¾€å›äº¤æ¢åˆ°æœ‰åºçš„ä½ç½®
</span>        <span class="k">def</span> <span class="nf">insertSort</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]):</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1"># é€‰æ‹©ä¸‹ä¸€ä¸ª
</span>                <span class="k">while</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span> <span class="c1"># å¾€å›æ’å…¥
</span>                    <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                    <span class="n">j</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="c1"># qsort
</span>        <span class="k">def</span> <span class="nf">quickSort</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]):</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
            <span class="k">def</span> <span class="nf">qsort</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">left</span> <span class="o">&gt;=</span> <span class="n">right</span><span class="p">:</span> <span class="k">return</span>

                <span class="n">mid</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="c1"># å–å¾—ç©ºä½
</span>                <span class="n">lo</span> <span class="o">=</span> <span class="n">left</span>
                <span class="n">hi</span> <span class="o">=</span> <span class="n">right</span>

                <span class="k">while</span> <span class="n">lo</span> <span class="o">&lt;</span> <span class="n">hi</span><span class="p">:</span>
                    <span class="k">while</span> <span class="n">lo</span> <span class="o">&lt;</span> <span class="n">hi</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">hi</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">mid</span><span class="p">:</span>
                        <span class="n">hi</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="n">nums</span><span class="p">[</span><span class="n">lo</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">hi</span><span class="p">]</span>   <span class="c1"># å³è¾¹å°çš„ï¼Œç½®æ¢
</span>                    <span class="k">while</span> <span class="n">lo</span> <span class="o">&lt;</span> <span class="n">hi</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">lo</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">mid</span><span class="p">:</span>
                        <span class="n">lo</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">nums</span><span class="p">[</span><span class="n">hi</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">lo</span><span class="p">]</span>    <span class="c1"># å·¦è¾¹å¤§çš„ç½®æ¢
</span>                <span class="n">nums</span><span class="p">[</span><span class="n">lo</span><span class="p">]</span> <span class="o">=</span> <span class="n">mid</span>             <span class="c1"># lo == hi, èµ‹å€¼ä¸ºmid
</span>
                <span class="n">qsort</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">lo</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># æ’åˆ—ä¸¤è¾¹
</span>                <span class="n">qsort</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">lo</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>

            <span class="n">qsort</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># å½’å¹¶æ’åº
</span>        <span class="k">def</span> <span class="nf">mergeSort</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]):</span>
            <span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="n">nums1</span><span class="p">,</span> <span class="n">nums2</span><span class="p">):</span> <span class="c1"># å½’å¹¶
</span>                <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">n1</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">n2</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">while</span> <span class="n">n1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">n2</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums2</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">nums1</span><span class="p">[</span><span class="n">n1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums2</span><span class="p">[</span><span class="n">n2</span><span class="p">]:</span>
                        <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums1</span><span class="p">[</span><span class="n">n1</span><span class="p">])</span>
                        <span class="n">n1</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums2</span><span class="p">[</span><span class="n">n2</span><span class="p">])</span>
                        <span class="n">n2</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">rst</span> <span class="o">=</span> <span class="n">rst</span> <span class="o">+</span> <span class="n">nums1</span><span class="p">[</span><span class="n">n1</span><span class="p">:]</span>
                <span class="n">rst</span> <span class="o">=</span> <span class="n">rst</span> <span class="o">+</span> <span class="n">nums2</span><span class="p">[</span><span class="n">n2</span><span class="p">:]</span>
                <span class="k">return</span> <span class="n">rst</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">nums</span>

            <span class="n">mid</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

            <span class="n">left</span> <span class="o">=</span> <span class="n">mergeSort</span><span class="p">(</span><span class="n">nums</span><span class="p">[:</span><span class="n">mid</span><span class="p">])</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mergeSort</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">:])</span>
            <span class="k">return</span> <span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
        
        <span class="c1"># å¸Œå°”æ’åº
</span>        <span class="k">def</span> <span class="nf">shellSort</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
            <span class="n">gap</span> <span class="o">=</span> <span class="n">n</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="k">while</span> <span class="n">gap</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># æšä¸¾gap
</span>                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">gap</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># ä¸åŒçš„gapç»ˆç‚¹
</span>                    <span class="n">tmp</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">j</span> <span class="o">=</span> <span class="n">i</span>
                    <span class="k">while</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="n">gap</span> <span class="ow">and</span> <span class="n">tmp</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="n">gap</span><span class="p">]:</span>
                        <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="n">gap</span><span class="p">]</span>
                        <span class="n">j</span> <span class="o">-=</span> <span class="n">gap</span>
                    <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>
                <span class="n">gap</span> <span class="o">=</span> <span class="n">gap</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="n">nums</span> <span class="o">=</span> <span class="n">mergeSort</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="c1"># quickSort(nums)
</span>        <span class="c1"># insertSort(nums)
</span>        <span class="c1"># selectSort(nums)
</span>        <span class="c1"># bubbleSort(nums)
</span>        <span class="c1"># shellSort(nums)
</span>        <span class="c1"># nums.sort() Timæ’åº
</span>        <span class="k">print</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">v</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">i</span>

        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°">è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°</h3>

<p><a href="https://leetcode.cn/problems/ba-shu-zu-pai-cheng-zui-xiao-de-shu-lcof/">å‰‘æŒ‡ Offer 45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="kn">import</span> <span class="nn">functools</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">compare</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">x</span>
            <span class="k">if</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">:</span> 
                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
        <span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">]</span>

        <span class="n">nums</span><span class="p">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">functools</span><span class="p">.</span><span class="n">cmp_to_key</span><span class="p">(</span><span class="n">compare</span><span class="p">))</span>
        <span class="k">return</span> <span class="s">""</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>æ’åº + éå† + ä¸¤ä¾§åŒæŒ‡é’ˆï¼Œå¸®åŠ©å‡å°æœç´¢èŒƒå›´ 0i[j..k]n</li>
</ul>

<p><a href="https://leetcode.cn/problems/1fGaJU/description/">LCR 007. ä¸‰æ•°ä¹‹å’Œ</a></p>

<pre><code class="language-Python">from typing import List
def threeSum(self, nums: List[int]) -&gt; List[List[int]]:
    n = len(nums)
    nums.sort()
    rst = []
    for i in range(n):
        if i &gt; 0 and nums[i] == nums[i - 1]: # å»é‡
            continue
        k = n - 1
        j = i + 1
        while j &lt; k:
            if j &gt; i + 1 and nums[j] == nums[j - 1]: #å»é‡
                j += 1
                continue
            if k &lt; n - 1 and nums[k] == nums[k + 1]: # å»é‡
                k -= 1
                continue
            tmp = nums[i] + nums[j] + nums[k]
            if tmp == 0: # æ‰¾åˆ°
                rst.append([nums[i], nums[j], nums[k]])
                j += 1
                k -= 1
            elif tmp &lt; 0: # æ”¶ç¼©å·¦è¾¹
                j += 1
            elif tmp &gt; 0:
                k -= 1 # æ”¶ç¼©å³è¾¹
    return rst
</code></pre>

<p><a href="https://leetcode.cn/problems/sorted-merge-lcci/">é¢è¯•é¢˜ 10.01. åˆå¹¶æ’åºçš„æ•°ç»„</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">A</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">B</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">pa</span> <span class="o">=</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">pb</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">m</span> <span class="o">+</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">pa</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">pb</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">pa</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">B</span><span class="p">[</span><span class="n">pb</span><span class="p">]:</span>
                <span class="n">A</span><span class="p">[</span><span class="n">cur</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">pa</span><span class="p">]</span>
                <span class="n">pa</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">A</span><span class="p">[</span><span class="n">cur</span><span class="p">]</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="n">pb</span><span class="p">]</span>
                <span class="n">pb</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">cur</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">pb</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># å¦‚æœBè¿˜æœ‰å‰©ï¼Œæ·»åŠ åˆ°Açš„å‰å¤´
</span>            <span class="n">A</span><span class="p">[:</span><span class="n">pb</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">B</span><span class="p">[:</span><span class="n">pb</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">print</span><span class="p">(</span><span class="n">pa</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span> <span class="n">cur</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="æ’åˆ—ç»„åˆ">æ’åˆ—ç»„åˆ</h3>

<h4 id="46-å…¨æ’åˆ—"><a href="https://leetcode.cn/problems/permutations/">46. å…¨æ’åˆ—</a></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">permute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">used</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># é˜²æ­¢é‡å¤è®¿é—®
</span>        
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">used</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="n">used</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>   <span class="c1"># è®°å¿†çš„æ–¹å¼
</span>                    <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">dfs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                    <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
                    <span class="n">used</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">dfs</span><span class="p">([])</span>
        <span class="k">return</span> <span class="n">rst</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">permute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">def</span> <span class="nf">backtrace</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">tmp</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">nums</span><span class="p">:</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)):</span>
                <span class="n">backtrace</span><span class="p">(</span><span class="n">nums</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:],</span> <span class="p">[</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">+</span> <span class="n">tmp</span><span class="p">)</span>  <span class="c1"># åˆ‡ç‰‡çš„æ–¹å¼
</span>        <span class="n">backtrace</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">return</span> <span class="n">rst</span>
            
</code></pre></div></div>
<h4 id="47-å…¨æ’åˆ—-ii"><a href="https://leetcode.cn/problems/permutations-ii/">47. å…¨æ’åˆ— II</a></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">permuteUnique</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">nums</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">used</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span>  <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">used</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
                    <span class="k">continue</span>  <span class="c1"># å‰ªæï¼Œé¿å…å›å¤´
</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">used</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="n">used</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">dfs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                    <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
                    <span class="n">used</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">dfs</span><span class="p">([])</span>
        <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<h2 id="å›æº¯å‰ªæ">å›æº¯å‰ªæ</h2>

<p>https://leetcode.cn/problems/combination-sum-ii/</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">combinationSum2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">candidates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="c1"># æ’åºå‰ªæ
</span>        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">tmp</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">target</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">[:])</span>
                <span class="k">return</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">candidates</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="n">cur</span> <span class="ow">and</span> <span class="n">candidates</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">candidates</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span> <span class="c1"># ç›¸ç­‰å‰ªæ
</span>                    <span class="k">continue</span> 
                <span class="c1"># è¿™ä¸ªé˜²æ­¢çš„æ˜¯ï¼Œx 1 1 6 å–å¾—[x 1 6] [x 1 6]ä¸¤æ¬¡
</span>                <span class="c1"># è€Œä¸æ˜¯116å–å¾—[116]ï¼Œå½“å‰çš„curæ˜¯å¯ä»¥å–1çš„ï¼Œ 
</span>                <span class="c1"># ç„¶åcur+1ä¸‹æ¬¡é€’å½’ä¹Ÿå¯ä»¥å–åˆ°1
</span>                <span class="n">val</span> <span class="o">=</span> <span class="n">candidates</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">tmp</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>  <span class="c1"># å–
</span>                <span class="n">dfs</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">target</span> <span class="o">-</span> <span class="n">val</span><span class="p">,</span> <span class="n">tmp</span><span class="p">)</span>  <span class="c1"># å–
</span>                <span class="n">tmp</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>  <span class="c1"># ä¸å–
</span>        <span class="n">candidates</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="p">[])</span>

        <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<h4 id="å­é›†"><a href="https://leetcode.cn/problems/subsets/">å­é›†</a></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">subsets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="c1"># é€ä¸ªæšä¸¾
</span>        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">cur</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">cur</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span>
                <span class="k">return</span>
            <span class="n">tmp</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">cur</span><span class="p">])</span> <span class="c1"># pick
</span>            <span class="n">dfs</span><span class="p">(</span><span class="n">cur</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># pick
</span>            <span class="n">tmp</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span> <span class="c1"># drop
</span>            <span class="n">dfs</span><span class="p">(</span><span class="n">cur</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># drop ä¹Ÿæ˜¯ç®—æ¬¡æ•°çš„
</span>        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rst</span>

<span class="s">"""  æŒ‰ä½æšä¸¾æ³•  
        rst = []
        n = len(nums)
        for mask in range(0, 1 &lt;&lt; n):
            tmp = []
            for i in range(n):
                if (mask &amp; 1 &lt;&lt; i):
                    tmp.append(nums[i])
            rst.append(tmp)
        return rst
"""</span>     


<span class="s">""" åˆ†ç‰‡éå†, æ›´å¿«
        rst = [[]]
        tmp = []

        def dfs(arr):
            # print(arr, rst, tmp)
            for i, x in enumerate(arr):
                tmp.append(x)
                rst.append(tmp.copy())
                # print(nums[:i], nums[i + 1:])
                dfs(arr[i+1:])
                tmp.pop()
        
        dfs(nums)

        return rst
"""</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/hanota-lcci/">é¢è¯•é¢˜ 08.06. æ±‰è¯ºå¡”é—®é¢˜</a></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">hanota</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">A</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">B</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">C</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""
        Do not return anything, modify C in-place instead.
        """</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">C</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">A</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span> <span class="c1"># Aä¸Šn-1ç§»åŠ¨åˆ°B
</span>            <span class="n">C</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">A</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">)</span> <span class="c1"># Bä¸Šn-1ç§»åŠ¨åˆ°C
</span></code></pre></div></div>

<p><a href="https://leetcode.cn/problems/bracket-lcci/">é¢è¯•é¢˜ 08.09. æ‹¬å·</a>
æœ‰æ¡ä»¶çš„å›æº¯
[
  â€œ((()))â€,
  â€œ(()())â€,
  â€œ(())()â€,
  â€œ()(())â€,
  â€œ()()()â€
]</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">generateParenthesis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>  <span class="c1"># ç”¨å‚å˜é‡ï¼Œå¯ä»¥ä¸ç”¨
</span>            <span class="k">if</span> <span class="n">left</span> <span class="o">&gt;</span> <span class="n">right</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="k">if</span> <span class="n">left</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">right</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">[:])</span>
            <span class="k">if</span> <span class="n">left</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">dfs</span><span class="p">(</span><span class="n">left</span>  <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">path</span> <span class="o">+</span> <span class="s">"("</span><span class="p">)</span>  <span class="c1"># å…ˆæšä¸¾å·¦æ‹¬å·
</span>            <span class="k">if</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">:</span>  <span class="c1"># æ¡ä»¶æ˜¯å·¦æ‹¬å·è¦æ¯”å³æ‹¬å·æ¥çš„å°‘
</span>                <span class="n">dfs</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">path</span> <span class="o">+</span> <span class="s">")"</span><span class="p">)</span>
        <span class="n">dfs</span><span class="p">(</span><span class="n">n</span> <span class="p">,</span><span class="n">n</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<h3 id="é“¾è¡¨">é“¾è¡¨</h3>

<p><a href="https://leetcode.cn/problems/linked-list-cycle/">æ£€æµ‹ç¯</a>
<a href="https://leetcode.cn/problems/linked-list-cycle-ii/solutions/">142. ç¯å½¢é“¾è¡¨ II</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ListNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
     <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
     <span class="bp">self</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="bp">None</span>
<span class="k">def</span> <span class="nf">detectCycle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ListNode</span><span class="p">:</span>
    <span class="n">fast</span> <span class="o">=</span> <span class="n">slow</span> <span class="o">=</span> <span class="n">head</span>
    <span class="k">while</span> <span class="n">fast</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fast</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="p">.</span><span class="nb">next</span>
        <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="nb">next</span>
        <span class="k">if</span> <span class="n">fast</span> <span class="o">==</span> <span class="n">slow</span><span class="p">:</span>  <span class="c1"># ç›¸é‡ç¬¬ä¸€æ¬¡
</span>            <span class="n">p</span> <span class="o">=</span> <span class="n">head</span>   <span class="c1"># ä»å¤´å¼€å§‹çš„P,ä¼šå’ŒslowæŒ‡é’ˆç›¸é‡
</span>            <span class="k">while</span> <span class="n">p</span> <span class="o">!=</span> <span class="n">slow</span><span class="p">:</span>
                <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="p">.</span><span class="nb">next</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="nb">next</span>
            <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="n">slow</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">p</span>
    <span class="k">return</span> <span class="bp">None</span>
<span class="s">"""
---a----[---b---ç›¸é‡---c--]
fast: a + n(b + c) + b
slow: a + b
a + (n + 1)b + nc = 2a + 2b
a = c + (n - 1)(b + c)
[p] [slow]
"""</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/reverse-linked-list-ii/">ç¿»è½¬é“¾è¡¨</a></p>

<pre><code class="language-Python">def reverse(head, tail):
    pre = None # å°¾éƒ¨èŠ‚ç‚¹
    cur = head
    while cur:
        nxt = cur.next
        cur.next = pre
        pre = cur
        cur = nxt
    return pre

# None -&gt; 1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 -&gt; tail
#                        |    |      |
#                       pre  cur    nxt
class ListNode:
    def __init__(self, x):
     self.val = x
     self.next = None
class Solution:
    def reverseBetween(self, head: ListNode, left: int, right: int) -&gt; ListNode:
        def printList(root, tail=None):
            while root and tail and root != tail.next:
                print(root.val, "-&gt;", end="")
                root = root.next
            print()

        def reverse(head, tail):
            pre = tail.next # å–åˆ°tailçš„next, ä¹Ÿå¯ä»¥ä¸ºNone
            cur = head
            while pre != tail:
                nxt = cur.next
                cur.next = pre
                pre = cur
                cur = nxt
            return head, tail # åè½¬åï¼Œ tailä¸ºå¤´ï¼Œ headä¸ºå°¾
        #  1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 
        #      |          |
        #     head      tail
        #  |    |      |
        # pre  cur    nxt

        dummy = ListNode() # dummyæ–¹ä¾¿äº†é“¾è¡¨çš„æ“ä½œï¼Œ å› ä¸ºæœ‰å¯èƒ½æ”¹åŠ¨åˆ°å¤´
        dummy.next = head

        pre = dummy
        end = dummy
        ptr = dummy

        i = 0

        while ptr:
            if i == left - 1:
                pre = ptr
            elif i == right:
                end = ptr
            ptr = ptr.next
            i += 1
        print(pre.val, end.val)
        _, pre.next = reverse(pre.next, end)
        printList(pre)

        return dummy.next
</code></pre>

<h3 id="é“¾è¡¨çš„å¤åˆ¶">é“¾è¡¨çš„å¤åˆ¶</h3>

<p><a href="https://leetcode.cn/problems/fu-za-lian-biao-de-fu-zhi-lcof/">å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
     <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
     <span class="bp">self</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="bp">None</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="nb">map</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">def</span> <span class="nf">copyRandomList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="s">'Node'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s">'Node'</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">head</span>
        <span class="k">if</span> <span class="n">head</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="nb">map</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="nb">map</span><span class="p">[</span><span class="n">head</span><span class="p">]</span>
        <span class="n">new_head</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">head</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="nb">map</span><span class="p">[</span><span class="n">head</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_head</span>
        <span class="n">new_head</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">copyRandomList</span><span class="p">(</span><span class="n">head</span><span class="p">.</span><span class="nb">next</span><span class="p">)</span>  <span class="c1"># ä¼šå…ˆæ‹·è´nextï¼Œåˆ›å»ºå‡ºæ‰€æœ‰çš„èŠ‚ç‚¹
</span>        <span class="n">new_head</span><span class="p">.</span><span class="n">random</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">copyRandomList</span><span class="p">(</span><span class="n">head</span><span class="p">.</span><span class="n">random</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">new_head</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/partition-list-lcci/">é¢è¯•é¢˜ 02.04. åˆ†å‰²é“¾è¡¨</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
</span><span class="k">class</span> <span class="nc">ListNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ListNode</span><span class="p">:</span>
        <span class="n">dummyMax</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">dummyMax</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">dummyMin</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">dummyMin</span>
        <span class="n">pre</span> <span class="o">=</span> <span class="n">dummyMax</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cur</span><span class="p">.</span><span class="n">val</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">:</span>
                <span class="n">pre</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>
                <span class="n">d</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">cur</span>
                <span class="n">d</span> <span class="o">=</span> <span class="n">d</span><span class="p">.</span><span class="nb">next</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">pre</span><span class="p">.</span><span class="nb">next</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">pre</span> <span class="o">=</span> <span class="n">pre</span><span class="p">.</span><span class="nb">next</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>
        <span class="n">d</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">dummyMax</span><span class="p">.</span><span class="nb">next</span>
        <span class="k">return</span> <span class="n">dummyMin</span><span class="p">.</span><span class="nb">next</span>
        
</code></pre></div></div>

<h2 id="æ ‘">æ ‘</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># æ ‘çš„éå†
</span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
<span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">left</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">right</span>

<span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">:</span><span class="n">TreeNode</span><span class="p">):</span>  <span class="c1"># è¿­ä»£çš„æ–¹å¼ï¼Œæ¨¡æ‹Ÿå‡½æ•°æ ˆ 
</span>    <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="n">root</span> <span class="ow">or</span> <span class="n">stack</span><span class="p">:</span>
        <span class="k">while</span> <span class="n">root</span><span class="p">:</span>
            <span class="c1"># visit å‰åºéå†
</span>            <span class="n">stack</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
            <span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="p">.</span><span class="n">left</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="c1"># visit ä¸­åºéå†
</span>        <span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span>

<span class="c1"># ååºéå† https://leetcode.cn/problems/binary-tree-postorder-traversal/
</span><span class="k">def</span> <span class="nf">postorderTraversal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">()</span>

    <span class="n">res</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="n">prev</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">while</span> <span class="n">root</span> <span class="ow">or</span> <span class="n">stack</span><span class="p">:</span>
        <span class="k">while</span> <span class="n">root</span><span class="p">:</span>
            <span class="n">stack</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
            <span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="p">.</span><span class="n">left</span>  <span class="c1"># é¦–å…ˆæ‰€æœ‰å·¦å­©å­å…¥æ ˆ
</span>        <span class="n">root</span> <span class="o">=</span> <span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span> <span class="ow">or</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span> <span class="o">==</span> <span class="n">prev</span><span class="p">:</span>  <span class="c1"># æ²¡æœ‰å³å­©å­ï¼Œæˆ–è€…è®¿é—®å®Œå³å­©å­
</span>            <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
            <span class="n">prev</span> <span class="o">=</span> <span class="n">root</span>
            <span class="n">root</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">stack</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">)</span> <span class="c1"># ç„¶åæ‰€æœ‰çš„å³å­©å­å…¥æ ˆ
</span>            <span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span>

    <span class="k">return</span> <span class="n">res</span>

<span class="c1">## å±‚åºéå†
# [å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III](https://leetcode.cn/problems/cong-shang-dao-xia-da-yin-er-cha-shu-iii-lcof/)
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">levelOrder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="p">[</span><span class="n">root</span><span class="p">]</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>
            <span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span> <span class="c1"># å½“å‰å±‚çš„size
</span>            <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="n">tmp</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">:</span>
                    <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">node</span><span class="p">.</span><span class="n">right</span><span class="p">:</span>
                    <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">d</span><span class="p">:</span>
                <span class="n">tmp</span><span class="p">.</span><span class="n">reverse</span><span class="p">()</span>
            <span class="n">d</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">d</span> 
            <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/check-subtree-lcci/">é¢è¯•é¢˜ 04.10. æ£€æŸ¥å­æ ‘</a></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">None</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">checkSubTree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t1</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">,</span> <span class="n">t2</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">sameTree</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">):</span>  <span class="c1"># åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€æ ·çš„æ ‘
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">t2</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">t1</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span> 
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">t1</span> <span class="ow">and</span> <span class="n">t2</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">False</span> 
            <span class="k">if</span> <span class="n">t1</span><span class="p">.</span><span class="n">val</span> <span class="o">!=</span> <span class="n">t2</span><span class="p">.</span><span class="n">val</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
            <span class="k">return</span> <span class="n">sameTree</span><span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">t2</span><span class="p">.</span><span class="n">left</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sameTree</span><span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">t2</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
        <span class="c1"># -------------
</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">t2</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">t1</span> <span class="ow">and</span> <span class="n">t2</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="n">sameTree</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">):</span> <span class="c1"># æ˜¯å¦å’Œrootæ ‘ä¸€æ ·
</span>            <span class="k">return</span> <span class="bp">True</span>      <span class="c1"># æ˜¯å¦å’Œleftæ ‘ä¸€æ ·                  # æ˜¯å¦å’Œrightæ ‘ä¸€æ ·
</span>        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">checkSubTree</span><span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">t2</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="p">.</span><span class="n">checkSubTree</span><span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">t2</span><span class="p">)</span>
<span class="s">"""
class Solution {
public:
    bool checkSubTree(TreeNode* t1, TreeNode* t2) {
        if(t1 == NULL || t2 == NULL) return false;
        if(t1-&gt;val == t2-&gt;val) return dfs(t1, t2);
        return checkSubTree(t1-&gt;left, t2) || checkSubTree(t1-&gt;right, t2);
    }
    bool dfs(TreeNode *t1, TreeNode *t2){
        if(t2 == NULL) return true;
        if(t1 == NULL) return false;
        if(t1-&gt;val != t2-&gt;val) return false;
        return dfs(t1-&gt;left, t2-&gt;left) &amp;&amp; dfs(t1-&gt;right, t2-&gt;right);
    }
};
"""</span>
</code></pre></div></div>

<p><a href="https://leetcode-cn.com/problems/sum-of-left-leaves/">å·¦å¶å­ä¹‹å’Œ</a> 
æ³¨æ„å°±æ˜¯ï¼Œå¯¹äºæ ‘çš„å­ç»“æ„çš„è§‚å¯Ÿã€‚è¿™é‡Œï¼Œ ä¸€ä¸ªèŠ‚ç‚¹ï¼Œ å¦‚æœå·¦å­èŠ‚ç‚¹ä¸ºç©ºï¼Œansç›´æ¥åŠ å·¦å­èŠ‚ç‚¹çš„å€¼ï¼Œ 
ä¸ç„¶é€’å½’è·å–å·¦å­æ ‘ã€å³å­æ ‘ä¸­çš„å·¦å¶å­ä¹‹å’Œã€‚
è¿™ä¸ªå®é™…ä¸Šä¹Ÿæ˜¯æ•°å­¦å½’çº³æ³•çš„æ€æƒ³ï¼Œç¡®å®šå¥½å­ç»“æ„ï¼Œè¾¹ç•Œæ¡ä»¶ï¼Œé€’å½’å¤„ç†å‡ºæ¥ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span><span class="n">Optional</span>
<span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
     <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
     <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">left</span>
     <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">right</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">sumOfLeftLeaves</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">.</span><span class="n">left</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">.</span><span class="n">right</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="c1"># å¦‚æœæ˜¯å·¦å¶å­èŠ‚ç‚¹
</span>                    <span class="n">ans</span> <span class="o">+=</span> <span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">.</span><span class="n">val</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">ans</span> <span class="o">+=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>  <span class="c1"># å¦‚æœä¸æ˜¯ï¼Œä¸‹ä¸€å±‚
</span>            <span class="k">if</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">.</span><span class="n">left</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">.</span><span class="n">right</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">):</span>  <span class="c1"># å¦‚æœå³èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹
</span>                    <span class="n">ans</span> <span class="o">+=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">ans</span>

        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="æ ‘çš„å­ç»“æ„"><a href="https://leetcode.cn/problems/shu-de-zi-jie-gou-lcof">æ ‘çš„å­ç»“æ„</a></h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for a binary tree node.
</span><span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isSubStructure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">A</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">,</span> <span class="n">B</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># å…ˆåºéå†
</span>        <span class="k">def</span> <span class="nf">isSame</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">b</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">a</span> <span class="ow">or</span> <span class="n">a</span><span class="p">.</span><span class="n">val</span> <span class="o">!=</span> <span class="n">b</span><span class="p">.</span><span class="n">val</span><span class="p">:</span> <span class="k">return</span> <span class="bp">False</span>
            <span class="k">return</span> <span class="n">isSame</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">left</span><span class="p">)</span> <span class="ow">and</span> <span class="n">isSame</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">A</span> <span class="ow">and</span> <span class="n">B</span> <span class="ow">and</span> <span class="n">isSame</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">A</span> <span class="ow">and</span> <span class="n">B</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">isSubStructure</span><span class="p">(</span><span class="n">A</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="p">.</span><span class="n">isSubStructure</span><span class="p">(</span><span class="n">A</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">B</span><span class="p">))</span>
</code></pre></div></div>

<h3 id="æ„å»ºæ ‘">æ„å»ºæ ‘</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="c1"># Definition for a binary tree node.
</span><span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
     <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
     <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">left</span>
     <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">right</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">buildTree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inorder</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">postorder</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TreeNode</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">postorder</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">inorder</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">postorder</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">inorder</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="n">cur</span><span class="p">)</span>

        <span class="n">node</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">cur</span><span class="p">)</span>
        <span class="c1">#                 index
</span>        <span class="c1"># inorder      [9]3[15,20,7] 
</span>        <span class="c1"># postorder    [9][15,20,7]3 &lt;-- root
</span>        <span class="n">pleft</span> <span class="o">=</span> <span class="n">postorder</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">index</span><span class="p">]</span>
        <span class="n">pright</span> <span class="o">=</span> <span class="n">postorder</span><span class="p">[</span><span class="n">index</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">ileft</span> <span class="o">=</span> <span class="n">inorder</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">index</span><span class="p">]</span>
        <span class="n">iright</span> <span class="o">=</span> <span class="n">inorder</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>

        <span class="n">node</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">buildTree</span><span class="p">(</span><span class="n">ileft</span><span class="p">,</span> <span class="n">pleft</span><span class="p">)</span>
        <span class="n">node</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">buildTree</span><span class="p">(</span><span class="n">iright</span><span class="p">,</span> <span class="n">pright</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">node</span>

<span class="k">class</span> <span class="nc">SolutionPreAndInOrder</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">buildTree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preorder</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">inorder</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TreeNode</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">preorder</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">inorder</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">preorder</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">inorder</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="n">cur</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">cur</span><span class="p">)</span>
        <span class="c1">#                       index
</span>        <span class="c1"># inorder             [9]3[15,20,7] 
</span>        <span class="c1"># preorder   root --&gt; 3[9][15,20,7]
</span>        <span class="n">pleft</span> <span class="o">=</span> <span class="n">preorder</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">pright</span> <span class="o">=</span> <span class="n">preorder</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">ileft</span> <span class="o">=</span> <span class="n">inorder</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">index</span><span class="p">]</span>
        <span class="n">iright</span> <span class="o">=</span> <span class="n">inorder</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>

        <span class="n">node</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">buildTree</span><span class="p">(</span><span class="n">pleft</span><span class="p">,</span> <span class="n">ileft</span><span class="p">)</span> <span class="c1"># é€’å½’å­åŒºé—´å’Œå­æ ‘
</span>        <span class="n">node</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">buildTree</span><span class="p">(</span><span class="n">pright</span><span class="p">,</span> <span class="n">iright</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">node</span>
</code></pre></div></div>

<h3 id="äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="https://leetcode.cn/problems/serialize-and-deserialize-binary-tree/description/">äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</a></h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># [1,2,3,null,null,4,5]
# ['1', '2', '3', 'None', 'None', '4', '5', 'None', 'None', 'None', 'None']
</span><span class="kn">import</span> <span class="nn">collections</span>
<span class="k">class</span> <span class="nc">TreeNode</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">None</span>
<span class="k">class</span> <span class="nc">Codec</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">""</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="p">[</span><span class="n">root</span><span class="p">]</span>
        <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>  <span class="c1"># å±‚åºéå†çš„ç›´æ¥ä¸²è”,æ²¡æœ‰forå¾ªç¯
</span>            <span class="n">node</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">val</span><span class="p">))</span>
                <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
                <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"None"</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">rst</span><span class="p">)</span>
        <span class="k">return</span> <span class="s">"["</span><span class="o">+</span>  <span class="s">","</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">rst</span><span class="p">)</span> <span class="o">+</span> <span class="s">"]"</span>

    <span class="k">def</span> <span class="nf">deserialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="n">dataList</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">dataList</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>  <span class="c1"># æ„å»ºç¬¬ä¸€ä¸ªèŠ‚ç‚¹
</span>        <span class="n">queue</span> <span class="o">=</span> <span class="p">[</span><span class="n">root</span><span class="p">]</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
</span>        <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dataList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="s">'None'</span><span class="p">:</span>
                <span class="n">node</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">dataList</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
                <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># æ„å»ºåšèŠ‚ç‚¹ï¼Œæˆ–è€…æŠ›æ‰ None
</span>            <span class="k">if</span> <span class="n">dataList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="s">'None'</span><span class="p">:</span>
                <span class="n">node</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">dataList</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
                <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># æ„å»ºå³èŠ‚ç‚¹ï¼Œæˆ–è€…æŠ›æ‰ None
</span>        <span class="k">return</span> <span class="n">root</span>
</code></pre></div></div>

<h3 id="å‰ç¼€æ ‘">å‰ç¼€æ ‘</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Trie</span><span class="p">:</span>

    <span class="c1"># å‰ç¼€æ ‘
</span>    <span class="c1"># trie
</span>    <span class="c1"># node
</span>    <span class="c1">#  |_a b c d e f g h i j k l m n o p q r s t u v w x y z
</span>    <span class="c1">#      |    |_a b c d e f g h i j k l m n o p q r s t u v w x y z
</span>    <span class="c1">#      |_a b c d e f g h i j k l m n o p q r s t u v w x y z
</span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="bp">None</span><span class="p">]</span> <span class="o">*</span> <span class="mi">26</span> 
        <span class="bp">self</span><span class="p">.</span><span class="n">isEnd</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
            <span class="n">ch</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">"a"</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">[</span><span class="n">ch</span><span class="p">]:</span>
                <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">[</span><span class="n">ch</span><span class="p">]</span> <span class="o">=</span> <span class="n">Trie</span><span class="p">()</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">[</span><span class="n">ch</span><span class="p">]</span>
        <span class="n">node</span><span class="p">.</span><span class="n">isEnd</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
            <span class="n">ch</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">"a"</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">and</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">[</span><span class="n">ch</span><span class="p">]:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">[</span><span class="n">ch</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="n">node</span><span class="p">.</span><span class="n">isEnd</span>

    <span class="k">def</span> <span class="nf">startsWith</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">prefix</span><span class="p">:</span>
            <span class="n">ch</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">"a"</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">and</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">[</span><span class="n">ch</span><span class="p">]:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">[</span><span class="n">ch</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="bp">True</span>
</code></pre></div></div>

<h3 id="äºŒå‰æ ‘è·¯å¾„">äºŒå‰æ ‘è·¯å¾„</h3>

<p><a href="https://leetcode.cn/problems/er-cha-shu-zhong-he-wei-mou-yi-zhi-de-lu-jing-lcof/">å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„</a></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">left</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">right</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">pathSum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">path</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>  <span class="c1"># æ·»åŠ 
</span>            <span class="k">if</span> <span class="n">target</span> <span class="o">==</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">root</span><span class="p">.</span><span class="n">left</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">:</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span>
            <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">target</span> <span class="o">-</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
            <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">target</span> <span class="o">-</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
            <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>  <span class="c1"># é€€å‡º
</span>        <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/path-sum-iii/">437. è·¯å¾„æ€»å’Œ III</a></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">left</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">right</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">pathSum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">],</span> <span class="n">targetSum</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="n">collections</span><span class="p">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="c1"># keyæ˜¯å‰ç¼€å’Œ, valueæ˜¯è¯¥å‰ç¼€å’Œçš„ä¸ªæ•°
</span>        <span class="n">prefix</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">cur</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="n">rst</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">cur</span> <span class="o">+=</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span> <span class="c1"># å¢åŠ å‰ç¼€å’Œ
</span>            <span class="n">rst</span> <span class="o">+=</span> <span class="n">prefix</span><span class="p">[</span><span class="n">cur</span> <span class="o">-</span> <span class="n">targetSum</span><span class="p">]</span>
            
            <span class="n">prefix</span><span class="p">[</span><span class="n">cur</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># è¿™ä¸ª1ï¼Œå®é™…ä¸Šè®°å½•äº†è·¯å¾„
</span>            <span class="n">rst</span> <span class="o">+=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">cur</span><span class="p">)</span>
            <span class="n">rst</span> <span class="o">+=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">cur</span><span class="p">)</span>
            <span class="n">prefix</span><span class="p">[</span><span class="n">cur</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span> <span class="c1"># å›é€€
</span>
            <span class="k">return</span> <span class="n">rst</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            
<span class="k">class</span> <span class="nc">SolutionMe</span><span class="p">:</span> <span class="c1"># æš´åŠ›æšä¸¾
</span>    <span class="k">def</span> <span class="nf">pathSum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">],</span> <span class="n">targetSum</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="k">def</span> <span class="nf">rootSum</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">targetSum</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> <span class="c1"># é€’å½’å¾€ä¸‹ï¼Œéå†æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œæ»¡è¶³çš„æ•°ç›®
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="n">rst</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">targetSum</span><span class="p">:</span>
                <span class="n">rst</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">rst</span> <span class="o">+=</span> <span class="n">rootSum</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">targetSum</span> <span class="o">-</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
            <span class="n">rst</span> <span class="o">+=</span> <span class="n">rootSum</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">targetSum</span> <span class="o">-</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">rst</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="n">rootSum</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">targetSum</span><span class="p">)</span>
        <span class="n">rst</span> <span class="o">+=</span> <span class="bp">self</span><span class="p">.</span><span class="n">pathSum</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">targetSum</span><span class="p">)</span>
        <span class="n">rst</span> <span class="o">+=</span> <span class="bp">self</span><span class="p">.</span><span class="n">pathSum</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">targetSum</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rst</span>

</code></pre></div></div>

<h3 id="äºŒå‰æœç´¢æ ‘">äºŒå‰æœç´¢æ ‘</h3>

<p><a href="https://leetcode-cn.com/problems/delete-node-in-a-bst/"> åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span>
<span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
     <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
     <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">left</span>
     <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">right</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">deleteNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">],</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">root</span>

        <span class="k">if</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">root</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">deleteNode</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> <span class="c1"># å¦‚æœå¤§äºï¼Œå»å·¦å­æ ‘åˆ é™¤
</span>        <span class="k">elif</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">root</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">deleteNode</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> <span class="c1"># å¦‚æœå°äºï¼Œå»å³å­æ ‘åˆ é™¤
</span>        <span class="k">else</span><span class="p">:</span> <span class="c1"># å¦‚æœç›¸ç­‰ï¼Œ åˆ é™¤å½“å‰èŠ‚ç‚¹
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">:</span> <span class="k">return</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span>  <span class="c1"># æ— å·¦ï¼Œè¿”å›å³å­æ ‘
</span>            <span class="k">elif</span> <span class="ow">not</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">:</span> <span class="k">return</span> <span class="n">root</span><span class="p">.</span><span class="n">left</span>   <span class="c1"># æ— å³ï¼Œ è¿”å›å·¦å­æ ‘
</span>            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># å·¦å³éƒ½æœ‰ï¼Œ æ‰¾åˆ°å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹ï¼Œ æŒ‚è½½å·¦å­æ ‘ï¼Œè¿”å›å³å­æ ‘
</span>                <span class="n">node</span> <span class="o">=</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span>
                <span class="k">while</span> <span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">:</span>
                    <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">left</span>
                <span class="n">node</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">root</span><span class="p">.</span><span class="n">left</span>
                <span class="k">return</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span>
        <span class="k">return</span> <span class="n">root</span>
</code></pre></div></div>
<p><a href="https://leetcode.cn/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/">å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨</a></p>

<p>äºŒå‰æœç´¢æ ‘ï¼Œä¸­åºéå†æœ‰åº</p>

<p>å·¦å­æ ‘èŠ‚ç‚¹å€¼&lt;=root.val&lt;=å³å­æ ‘èŠ‚ç‚¹å€¼</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for a Node.
</span><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">left</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">right</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">treeToDoublyList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="s">'Node'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s">'Node'</span><span class="p">:</span>
        <span class="n">last</span><span class="p">,</span> <span class="n">head</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">None</span>
            <span class="c1"># left
</span>            <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
            <span class="c1"># visit
</span>            <span class="k">nonlocal</span> <span class="n">last</span>
            <span class="k">if</span> <span class="n">last</span><span class="p">:</span>  <span class="c1"># ä¸­åºéå†ï¼Œçœ‹lastæŒ‡é’ˆ
</span>                <span class="n">last</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">root</span>
                <span class="n">root</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">last</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">nonlocal</span> <span class="n">head</span>
                <span class="n">head</span> <span class="o">=</span> <span class="n">root</span>
            
            <span class="c1"># right
</span>            <span class="n">last</span> <span class="o">=</span> <span class="n">root</span>
            <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="n">head</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">last</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">last</span><span class="p">,</span> <span class="n">head</span>
        <span class="k">return</span> <span class="n">head</span>
</code></pre></div></div>
<h3><a href=""></a></h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for a binary tree node.
</span><span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isValidBST</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s">'-inf'</span><span class="p">),</span> <span class="n">upper</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s">'inf'</span><span class="p">)):</span>  <span class="c1"># é€’å½’åˆæ³•åŒºé—´
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span>
            <span class="k">if</span> <span class="n">val</span> <span class="o">&lt;=</span> <span class="n">lower</span> <span class="ow">or</span> <span class="n">val</span> <span class="o">&gt;=</span> <span class="n">upper</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">lower</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">upper</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">False</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">SolutionMid</span><span class="p">:</span> <span class="c1">## ä¸­åºéå†ï¼Œæœ‰åºpreèŠ‚ç‚¹ã€‚
</span>    <span class="n">pre</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">"-inf"</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">isValidBST</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">isValidBST</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span> <span class="ow">or</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="p">.</span><span class="n">pre</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">pre</span> <span class="o">=</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span>

            <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">isValidBST</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="å‰‘æŒ‡-offer-68---i-äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="https://leetcode.cn/problems/er-cha-sou-suo-shu-de-zui-jin-gong-gong-zu-xian-lcof">å‰‘æŒ‡ Offer 68 - I. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</a></h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">lowestCommonAncestor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="s">'TreeNode'</span><span class="p">,</span> <span class="n">p</span><span class="p">:</span> <span class="s">'TreeNode'</span><span class="p">,</span> <span class="n">q</span><span class="p">:</span> <span class="s">'TreeNode'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s">'TreeNode'</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">root</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">p</span><span class="p">.</span><span class="n">val</span> <span class="ow">or</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">q</span><span class="p">.</span><span class="n">val</span><span class="p">:</span>  <span class="c1"># å¦‚æœæ»¡è¶³ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿”å›
</span>            <span class="k">return</span> <span class="n">root</span>
        <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">lowestCommonAncestor</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
        <span class="n">right</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">lowestCommonAncestor</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">left</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">right</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">right</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">left</span>

        <span class="k">return</span> <span class="n">root</span> <span class="c1"># è¿™ä¸ªæ—¶å€™ï¼Œå°±æ˜¯å·¦è¾¹ï¼Œå³è¾¹ï¼Œéƒ½æ»¡è¶³
</span></code></pre></div></div>

<h3 id="å‰‘æŒ‡-offer-55---ii-å¹³è¡¡äºŒå‰æ ‘"><a href="https://leetcode.cn/problems/ping-heng-er-cha-shu-lcof">å‰‘æŒ‡ Offer 55 - II. å¹³è¡¡äºŒå‰æ ‘</a></h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for a binary tree node.
</span><span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isBalanced</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>  <span class="c1"># åç»­éå†
</span>            <span class="k">if</span> <span class="n">left</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>  <span class="c1"># åç»­éå†
</span>            <span class="k">if</span> <span class="n">right</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

            <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">left</span> <span class="o">-</span> <span class="n">right</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div></div>

<h2 id="æ•°ç»„">æ•°ç»„</h2>

<p><a href="https://leetcode.cn/problems/student-attendance-record-i/">å­¦ç”Ÿå‡ºå‹¤è®°å½• I</a> 
 æ³¨æ„å•è¯éå†çš„é¡ºåºæ€§è´¨ï¼Œ â€œè¿ç»­å¤šä¸ªâ€çš„å®ç°ï¼Œ å¯ä»¥åœ¨ä¸æ»¡è¶³è¿ç»­æ¡ä»¶çš„æ—¶å€™æ–­å¼€ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">checkRecord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">cnta</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cntl</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">'A'</span> <span class="p">:</span>
                <span class="n">cnta</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">cnta</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span> <span class="k">return</span> <span class="bp">False</span>

            <span class="k">elif</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">'L'</span><span class="p">:</span> <span class="c1"># è¿ç»­å¤šå¤©
</span>                <span class="n">cntl</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">cntl</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span> <span class="k">return</span> <span class="bp">False</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># æ— æ³•è¿ç»­ï¼Œ æ–­å¼€
</span>                <span class="n">cntl</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">True</span>
<span class="k">class</span> <span class="nc">Solution2</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">checkRecord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">countA</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">c</span> <span class="ow">is</span> <span class="s">'A'</span><span class="p">:</span>
                <span class="n">countA</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">countL</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="ow">is</span> <span class="s">'L'</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">'L'</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s">'L'</span><span class="p">:</span>
                <span class="c1"># ç›´æ¥å¼‚å¸¸å¤„åˆ¤æ–­ä¹Ÿè¡Œï¼Œæ›´å®¹æ˜“ä¸€ç‚¹
</span>                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="n">countA</span> <span class="o">&lt;</span> <span class="mi">2</span>
</code></pre></div></div>

<p>æ•°ç»„ç¿»è½¬</p>

<p>https://leetcode.cn/problems/rotate-array/description/</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""
        Do not return anything, modify matrix in-place instead.
        """</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
        <span class="c1"># å…ˆæ°´å¹³ç¿»è½¬ï¼Œå†æ²¿ç€ä¸»å¯¹è§’çº¿ç¿»è½¬
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">//</span> <span class="mi">2</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">matrix</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="p">,</span> <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">):</span> <span class="c1"># ä¸»åŠ›æ˜¯i, å¦‚æœåˆ°nï¼Œ ä¼šç¿»è½¬å¤šæ¬¡
</span>                <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">matrix</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="p">,</span> <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>

        <span class="c1"># æ‹·è´çš„æ–¹å¼
</span>        <span class="c1"># n = len(matrix)
</span>        <span class="c1"># new_matrix = [[0]* n for  _ in range(n)]
</span>
        <span class="c1"># # ç¬¬iè¡Œjåˆ—ï¼Œ åˆ°åº•n - 1 - i åˆ—ï¼Œ jè¡Œ
</span>        <span class="c1"># for i in range(n):
</span>        <span class="c1">#     for j in range(n):
</span>        <span class="c1">#         new_matrix[j][n - 1 - i] = matrix[i][j]
</span>        <span class="c1"># for i in range(n):
</span>        <span class="c1">#     for j in range(n):
</span>        <span class="c1">#         matrix[i][j] = new_matrix[i][j]
</span></code></pre></div></div>

<h3 id="æ•°ç»„è½®è½¬">æ•°ç»„è½®è½¬</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">swap</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
            <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">:</span>
                <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span>
                <span class="n">left</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">right</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">k</span> <span class="o">%=</span> <span class="n">n</span>
        <span class="c1"># ä¸‰æ¬¡ç¿»è½¬
</span>        <span class="n">swap</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">swap</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">k</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">swap</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">rotateSlice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="c1"># åˆ‡ç‰‡ï¼Œç©ºé—´O(n)
</span>        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">k</span> <span class="o">%=</span> <span class="n">n</span>
        <span class="n">nums</span><span class="p">[:]</span><span class="o">=</span><span class="n">nums</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">:]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[:</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">]</span>
</code></pre></div></div>

<h3 id="æ•°ç»„è½®è½¬æœ€å°å€¼">æ•°ç»„è½®è½¬æœ€å°å€¼</h3>
<p><a href="https://leetcode.cn/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/description/">å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minArray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">numbers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
        <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">:</span>
            <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">numbers</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">numbers</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">numbers</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">numbers</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span>
            <span class="k">elif</span> <span class="n">numbers</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">==</span> <span class="n">numbers</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
                <span class="n">right</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">numbers</span><span class="p">[</span><span class="n">left</span><span class="p">]</span>
</code></pre></div></div>

<h2 id="çŸ©é˜µ">çŸ©é˜µ</h2>

<p><a href="https://leetcode-cn.com/problems/max-area-of-island/">å²›å±¿çš„æœ€å¤§é¢ç§¯</a> 
<a href="https://leetcode-cn.com/problems/number-of-islands/">å²›å±¿æ•°é‡</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxAreaOfIsland</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grid</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">dxy</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="n">area</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">nonlocal</span> <span class="n">area</span>
                <span class="n">area</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1"># æŠŠèµ°è¿‡çš„å²›å±¿è®°å½•ä¸º2
</span>                <span class="k">for</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span> <span class="ow">in</span> <span class="n">dxy</span><span class="p">:</span>
                    <span class="n">x</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">dx</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="n">dy</span>
                    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="ow">and</span> <span class="n">grid</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">dfs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="n">rst</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">area</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
                    <span class="n">rst</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">rst</span><span class="p">,</span> <span class="n">area</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<p><a href="https://leetcode-cn.com/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/">é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">def</span> <span class="nf">spiralOrder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">matrix</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
    <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">visited</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">m</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>

    <span class="n">direct</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

    <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">d</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">total</span> <span class="o">=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">m</span>
    <span class="n">rst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">total</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total</span><span class="p">):</span> <span class="c1"># è¿­ä»£åœ¨ä¸ªæ•°è¾¾åˆ°ä¹‹ååœæ­¢
</span>        <span class="n">rst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span>
        <span class="n">visited</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">direct</span><span class="p">[</span><span class="n">d</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span> <span class="o">+</span> <span class="n">direct</span><span class="p">[</span><span class="n">d</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">nx</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">ny</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">visited</span><span class="p">[</span><span class="n">nx</span><span class="p">][</span><span class="n">ny</span><span class="p">]):</span> <span class="c1"># å½“è¶Šç•Œçš„æ—¶å€™ï¼Œæ¢æ–¹å‘
</span>            <span class="n">d</span> <span class="o">=</span> <span class="p">(</span><span class="n">d</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">direct</span><span class="p">[</span><span class="n">d</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># ä½¿ç”¨æ¢æ–¹å‘åçš„ï¼Œæ­£ç¡®çš„åæ ‡
</span>        <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">direct</span><span class="p">[</span><span class="n">d</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">rst</span>

<span class="c1">## å¥—åœˆï¼Œ åœˆç¼©å°çš„æ–¹å¼
</span><span class="k">def</span> <span class="nf">spiralOrder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">matrix</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
    <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    
    <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">right</span> <span class="o">=</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">top</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">bottom</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
    
    <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span> <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">top</span><span class="p">][</span><span class="n">i</span><span class="p">])</span> <span class="c1"># left to right
</span>        <span class="n">top</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># top ç¼©å°
</span>        <span class="k">if</span> <span class="n">top</span> <span class="o">&gt;</span> <span class="n">bottom</span><span class="p">:</span> <span class="k">break</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span> <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">right</span><span class="p">])</span> <span class="c1"># top to bottom
</span>        <span class="n">right</span> <span class="o">-=</span> <span class="mi">1</span> <span class="c1"># right ç¼©å°
</span>        <span class="k">if</span> <span class="n">right</span> <span class="o">&lt;</span> <span class="n">left</span><span class="p">:</span> <span class="k">break</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">left</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span> <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">bottom</span><span class="p">][</span><span class="n">i</span><span class="p">])</span> <span class="c1"># right to left
</span>        <span class="n">bottom</span> <span class="o">-=</span> <span class="mi">1</span> <span class="c1"># bottomç¼©å°
</span>        <span class="k">if</span> <span class="n">bottom</span> <span class="o">&lt;</span> <span class="n">top</span><span class="p">:</span> <span class="k">break</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">bottom</span><span class="p">,</span> <span class="n">top</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span> <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">left</span><span class="p">])</span> <span class="c1"># bottom to top
</span>        <span class="n">left</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># leftç¼©å°
</span>        <span class="k">if</span> <span class="n">left</span> <span class="o">&gt;</span> <span class="n">right</span><span class="p">:</span> <span class="k">break</span>
    <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<h2 id="çŸ©é˜µ-1">çŸ©é˜µ</h2>

<p><a href="https://leetcode.cn/problems/search-a-2d-matrix-ii/description/">240. æœç´¢äºŒç»´çŸ©é˜µ II</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">searchMatrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;=</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">cur</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
            <span class="k">elif</span> <span class="n">cur</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">cur</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">:</span>
                <span class="n">y</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="bp">False</span>
</code></pre></div></div>

<h3 id="å‰‘æŒ‡-offer-12-çŸ©é˜µä¸­çš„è·¯å¾„"><a href="https://leetcode.cn/problems/ju-zhen-zhong-de-lu-jing-lcof/">å‰‘æŒ‡ Offer 12. çŸ©é˜µä¸­çš„è·¯å¾„</a></h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">exist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">board</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">w</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">or</span> <span class="ow">not</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
            <span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="n">word</span><span class="p">[</span><span class="n">k</span><span class="p">]:</span>  <span class="c1"># åˆ¤æ–­
</span>                <span class="k">return</span> <span class="bp">False</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
            <span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="s">''</span>   <span class="c1"># ç¦æ­¢è¿”å›
</span>            <span class="n">res</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">or</span> \
                  <span class="n">dfs</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">or</span> \
                  <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">or</span> \
                  <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>   <span class="c1"># å…è®¸è¿”å›
</span>            <span class="k">return</span> <span class="n">res</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
                    <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>
</code></pre></div></div>

<h3 id="å‰‘æŒ‡-offer-13-æœºå™¨äººçš„è¿åŠ¨èŒƒå›´"><a href="https://leetcode.cn/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/">å‰‘æŒ‡ Offer 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´</a></h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">digitsum</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">n</span><span class="p">:</span>
        <span class="n">ans</span> <span class="o">+=</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">10</span>
        <span class="n">n</span> <span class="o">//=</span> <span class="mi">10</span>
    <span class="k">return</span> <span class="n">ans</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">movingCount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">queue</span> <span class="kn">import</span> <span class="n">Queue</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>
        <span class="n">q</span><span class="p">.</span><span class="n">put</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">q</span><span class="p">.</span><span class="n">empty</span><span class="p">():</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">get</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">s</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">digitsum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">digitsum</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">k</span><span class="p">:</span>
                <span class="n">s</span><span class="p">.</span><span class="n">add</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>  <span class="c1"># å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œvisit
</span>                <span class="k">for</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span> <span class="ow">in</span> <span class="p">[(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]:</span>  <span class="c1"># å‘å³å‘ä¸‹ä¼ æ’­
</span>                    <span class="n">q</span><span class="p">.</span><span class="n">put</span><span class="p">((</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">))</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">SolutionDFS</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">movingCount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">board</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">def</span> <span class="nf">isOK</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
            <span class="n">rst</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">i</span> <span class="ow">or</span> <span class="n">j</span><span class="p">:</span>
                <span class="n">rst</span> <span class="o">+=</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">+</span> <span class="n">j</span> <span class="o">%</span> <span class="mi">10</span>
                <span class="n">i</span> <span class="o">//=</span> <span class="mi">10</span>
                <span class="n">j</span> <span class="o">//=</span> <span class="mi">10</span>
            <span class="k">return</span> <span class="n">rst</span> <span class="o">&lt;=</span> <span class="n">k</span>

        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="ow">or</span> <span class="ow">not</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>
                <span class="k">return</span>
            <span class="k">if</span> <span class="n">isOK</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
                <span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">nonlocal</span> <span class="n">rst</span>
                <span class="n">rst</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">dfs</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
                <span class="n">dfs</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
                <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rst</span>

</code></pre></div></div>

<h3 id="å‰‘æŒ‡-offer-34-äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„"><a href="https://leetcode.cn/problems/er-cha-shu-zhong-he-wei-mou-yi-zhi-de-lu-jing-lcof/">å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„</a></h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">TreeNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">left</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">right</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">pathSum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="n">tmp</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">target</span> <span class="o">==</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">root</span><span class="p">.</span><span class="n">left</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">:</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span>
            <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">,</span> <span class="n">target</span> <span class="o">-</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
            <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">,</span> <span class="n">target</span> <span class="o">-</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
            <span class="n">tmp</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>

        <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<p>[è›‡å½¢çŸ©é˜µ]å¯¹è§’çº¿</p>

<p>https://leetcode.cn/problems/diagonal-traverse/description/
https://leetcode.cn/circle/discuss/RZeoZi/</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"""
[1, 2, 6, 7]
[3, 5, 8, 11]
[4, 9, 10, 12]
==============
0 3  # å› ä¸ºå’Œæ˜¯3ï¼Œ 0 - 3ï¼Œ éå†ä¼šæœ‰å››ä¸ªï¼Œä»å³ä¸Šï¼Œåˆ°å·¦ä¸‹
1 2
2 1
3 0  # åæ–¹å‘ï¼Œäº¤æ¢xyå³å¯
"""</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">nums</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">)]</span>
<span class="n">cur</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">cnt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># å’Œæ˜¯cnt
</span>    <span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">]))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"="</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cnt</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">cnt</span> <span class="o">-</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">cnt</span> <span class="o">-</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">cur</span>
                <span class="n">cur</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">cnt</span> <span class="o">-</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">nums</span><span class="p">[</span><span class="n">cnt</span> <span class="o">-</span> <span class="n">i</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">cur</span>
                <span class="n">cur</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">]))</span>
</code></pre></div></div>

<h2 id="å›¾">å›¾</h2>

<p><a href="https://leetcode.cn/problems/all-paths-from-source-to-target/">Dagå›¾éå†</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">def</span> <span class="nf">allPathsSourceTarget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
    <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span> <span class="c1"># graph é‚»æ¥è¡¨
</span>    <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">tmp</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span> <span class="c1"># åˆ°è¾¾nèŠ‚ç‚¹
</span>            <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">nb</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span> <span class="c1"># ä¸‹ä¸€æ­¥éå†é‚»å±…
</span>            <span class="n">dfs</span><span class="p">(</span><span class="n">nb</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">+</span> <span class="p">[</span><span class="n">nb</span><span class="p">])</span>

    <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/course-schedule/description/">æ‹“æ‰‘æ’åº:</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">canFinish</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">numCourses</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">prerequisites</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">edges</span> <span class="o">=</span> <span class="n">collections</span><span class="p">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span> <span class="c1"># é‚»æ¥è¡¨ k -&gt; [i,j,s,t]
</span>        <span class="n">indeg</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">numCourses</span> <span class="c1"># å…¥åº¦
</span>
        <span class="k">for</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="ow">in</span> <span class="n">prerequisites</span><span class="p">:</span>
            <span class="n">edges</span><span class="p">[</span><span class="n">c1</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>  <span class="c1"># æ„å»ºé‚»æ¥è¡¨
</span>            <span class="n">indeg</span><span class="p">[</span><span class="n">c2</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>        <span class="c1"># è®¡ç®—å…¥åº¦
</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">indeg</span><span class="p">):</span>  <span class="c1"># å…¥åº¦ä¸º0ï¼Œå…¥æ ˆ
</span>            <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

        <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>                    <span class="c1"># é˜Ÿåˆ—
</span>            <span class="n">node</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">pre</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">[</span><span class="n">node</span><span class="p">]:</span> <span class="c1"># ç§»å‡ºå…¥åº¦ä¸º0çš„ç‚¹
</span>                <span class="n">indeg</span><span class="p">[</span><span class="n">pre</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">indeg</span><span class="p">[</span><span class="n">pre</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="c1"># åˆ¤æ–­å‰©ä¸‹èŠ‚ç‚¹çš„åº¦æ˜¯å¦ä¸º
</span>                    <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">pre</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">indeg</span><span class="p">:</span> <span class="c1"># å¦‚æœæœ€ç»ˆæœ‰èŠ‚ç‚¹ï¼Œå…¥åº¦ä»ç„¶ä¸ä¸º0ï¼Œåˆ™å­˜åœ¨ç¯
</span>            <span class="k">if</span> <span class="n">i</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="bp">True</span>
</code></pre></div></div>

<h2 id="æœ€å°é«˜åº¦æ ‘"><a href="https://leetcode.cn/problems/minimum-height-trees/">æœ€å°é«˜åº¦æ ‘</a></h2>
<ul>
  <li>æ–¹æ³•ä¸€ æ‰¾æœ€é•¿è·¯ä¸­ç‚¹
ç”±äº n ä¸ªç‚¹çš„è¿é€šå›¾åªæœ‰ n-1 æ¡è¾¹ï¼Œé‚£ä¹ˆä»»æ„ä¸¤ä¸ªç‚¹åªæœ‰ä¸€æ¡è·¯å¾„ã€‚
ä¸éš¾è¯æ˜æœ€å°é«˜åº¦å°±åœ¨æœ€é•¿è·¯ä¸Šè€Œä¸”åœ¨ ä¸­ç‚¹ï¼Œæ‰¾å‡ºæœ€é•¿è·¯è¿”å›ä¸­ç‚¹å°±æ˜¯ç­”æ¡ˆã€‚
æ‰€ä»¥æ ¹æ®æœ€é•¿è·¯çš„å¥‡å¶æ€§ï¼Œä¸­ç‚¹çš„èŠ‚ç‚¹ä¸æ˜¯ 1 ä¸ªå°±æ˜¯ 2 ä¸ªï¼š
    <ul>
      <li>ä½¿ç”¨ç»å…¸çš„ dfs / bfs æ±‚æœ€é•¿è·¯å¹¶è®°å½•è·¯å¾„ç„¶åè¿”å›ä¸­ç‚¹</li>
      <li>æœ€é•¿è·¯çš„æ±‚æ³•ä¹Ÿæ˜¯ä¸ªç»å…¸é—®é¢˜ï¼Œå…ˆéšä¾¿æ‰¾ä¸ªç‚¹è·‘åˆ°æœ€è¿œèŠ‚ç‚¹ xï¼Œé‚£ä¹ˆ x ä¸€å®šæ˜¯æœ€é•¿è·¯çš„ä¸€ç«¯ï¼Œ
å†ä» x è·‘åˆ°æœ€è¿œèŠ‚ç‚¹ yï¼Œåˆ™ xï¼Œy ä¸ºæœ€é•¿è·¯çš„ä¸¤ä¸ªç«¯ç‚¹ã€‚</li>
      <li>æ‹“æ‰‘çš„æ€è·¯ä¸æ–­åˆ é™¤æ‰€æœ‰åº¦ä¸º 1 çš„å¶èŠ‚ç‚¹ï¼Œæ¯æ¬¡å°†æœ€é•¿è·¯é•¿åº¦å‡ 2ï¼Œç›´åˆ°èŠ‚ç‚¹æ•°å°äºç­‰äº 2 æ—¶å€™ï¼Œå³æœ€é•¿è·¯é•¿ä¸º 0 æˆ–è€… 1 æ—¶ï¼Œåˆ°è¾¾ä¸­ç‚¹ç»“æŸã€‚</li>
    </ul>
  </li>
  <li>æ–¹æ³•äºŒ é€šç”¨åšæ³•æ ‘å½¢ dp
å°†åŸæœ¬çš„æš´åŠ› O(N^2)ç”¨è®°å¿†åŒ–çš„æ–¹å¼ï¼Œé€šè¿‡è®°å½•æ¯ä¸ªç‚¹ä¸ºæ ¹å¾€å‡ºåº¦æ–¹å‘å’Œå…¥åº¦æ–¹å‘çš„é«˜åº¦ï¼Œ
é‚£ä¹ˆä»¥æ¯ä¸ªç‚¹ä¸ºæ ¹çš„é«˜åº¦å¯ä»¥ dfs æ—¶å€™é¡ºä¾¿é€’æ¨å‡ºæ¥ï¼Œå°†å¤æ‚åº¦é™åˆ° O(n)ã€‚</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findMinHeightTrees</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">edges</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">edges</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
        <span class="n">medges</span> <span class="o">=</span> <span class="n">collections</span><span class="p">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>  <span class="c1"># æ— å‘å›¾çš„é‚»æ¥è¡¨
</span>        <span class="n">indeg</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span>                         <span class="c1"># æ— å‘å›¾çš„åº¦ã€‚
</span>
        <span class="k">for</span> <span class="n">p</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">:</span>
            <span class="n">medges</span><span class="p">[</span><span class="n">p</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
            <span class="n">medges</span><span class="p">[</span><span class="n">c</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
            <span class="n">indeg</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">indeg</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">indeg</span><span class="p">)</span> <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>   <span class="c1"># åº¦ä¸ºä¸€çš„é˜Ÿåˆ—
</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">nb</span> <span class="ow">in</span> <span class="n">medges</span><span class="p">[</span><span class="n">node</span><span class="p">]:</span>  <span class="c1"># éå†ç›¸é‚»èŠ‚ç‚¹ï¼Œ åº¦å‡ä¸€
</span>                    <span class="n">indeg</span><span class="p">[</span><span class="n">nb</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">indeg</span><span class="p">[</span><span class="n">nb</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># å‡å®Œï¼Œå¦‚æœåº¦ä¸º1ï¼Œåˆ™åŠ å…¥é˜Ÿåˆ—
</span>                        <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nb</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

<h2 id="æ ˆä¸é˜Ÿåˆ—">æ ˆä¸é˜Ÿåˆ—</h2>

<h3 id="å•è°ƒé˜Ÿåˆ—">å•è°ƒé˜Ÿåˆ—</h3>
<p><a href="https://leetcode.cn/problems/dui-lie-de-zui-da-zhi-lcof/">å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">queue</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="k">class</span> <span class="nc">MaxQueue</span><span class="p">:</span>
    <span class="s">"""
    [1 1 2  3 2  1]
    [        3 2 1] # è¿™é‡Œç»´æŠ¤å•è°ƒé€’å‡çš„é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—å¤´ä¸ºæœ€å¤§å€¼ï¼Œæ’å…¥2çš„æ—¶å€™ï¼Œæ¸…ç©ºåˆ°=2çš„åœ°æ–¹ï¼Œ[3 2]
    """</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">queue</span> <span class="o">=</span> <span class="n">collections</span><span class="p">.</span><span class="n">deque</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">max_queue</span> <span class="o">=</span> <span class="n">collections</span><span class="p">.</span><span class="n">deque</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">max_value</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">max_queue</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">max_queue</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">push_back</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">while</span> <span class="bp">self</span><span class="p">.</span><span class="n">max_queue</span> <span class="ow">and</span> <span class="bp">self</span><span class="p">.</span><span class="n">max_queue</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">max_queue</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">max_queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pop_front</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">queue</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">queue</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="bp">self</span><span class="p">.</span><span class="n">max_queue</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">max_queue</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">value</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/hua-dong-chuang-kou-de-zui-da-zhi-lcof">å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxSlidingWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">max_queue</span> <span class="o">=</span> <span class="n">collections</span><span class="p">.</span><span class="n">deque</span><span class="p">()</span>  <span class="c1"># å•è°ƒé˜Ÿåˆ—
</span>        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
            <span class="k">while</span> <span class="n">max_queue</span> <span class="ow">and</span> <span class="n">max_queue</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">max_queue</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">max_queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">max_queue</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
            <span class="c1"># pop
</span>            <span class="k">if</span> <span class="n">max_queue</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="n">max_queue</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">max_queue</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>
            <span class="c1"># append
</span>            <span class="k">while</span> <span class="n">max_queue</span> <span class="ow">and</span> <span class="n">max_queue</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">max_queue</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">max_queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">max_queue</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<h3 id="å•è°ƒæ ˆ">å•è°ƒæ ˆ</h3>

<p><a href="https://leetcode.cn/problems/bao-han-minhan-shu-de-zhan-lcof">å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MinStack</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""
        # å•è°ƒæ ˆï¼Œ 
        [-1ï¼Œ-2, 1, 3, 5, -3 top
        [-1, -2,         -3 top
        """</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">min_stack</span> <span class="o">=</span> <span class="p">[]</span> 

    <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">stack</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">.</span><span class="n">min_stack</span> <span class="ow">or</span> <span class="bp">self</span><span class="p">.</span><span class="n">min_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">x</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">min_stack</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">min_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">min_stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">top</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">min</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">min_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<h2 id="å•è°ƒæ ˆ-1">å•è°ƒæ ˆ</h2>

<p><a href="https://leetcode-cn.com/problems/next-greater-element-i/">ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ </a> ï¼Œ æ ˆä¸­å­˜å‚¨çš„æ˜¯æ•°å€¼</p>

<pre><code class="language-Python">from typing import List
class Solution:
    def nextGreaterElement(self, nums1: List[int], nums2: List[int]) -&gt; List[int]:
        rst = {}
        stack = []
        # å•è°ƒé€’å¢æ ˆï¼Œå³ä¾§æ›´å¤§çš„å…ƒç´ 
        for n in reversed(nums2):
            while stack and n &gt;= stack[-1]: # æ ˆé¡¶æœ‰å€¼ï¼Œä¸”å°äºn
                stack.pop(-1)
            rst[n] = stack[-1] if stack else -1
            stack.append(n) # æ”¾å…¥n
        return [rst[n] for n in nums1]
</code></pre>

<p><a href="https://leetcode-cn.com/problems/next-greater-element-ii/">ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II</a></p>

<p>æ ˆä¸­å­˜å‚¨çš„æ˜¯index</p>
<pre><code class="language-Python">from typing import List
class Solution:
    def nextGreaterElements(self, nums: List[int]) -&gt; List[int]:
        n = len(nums)
        rst = [-1] * n
        stack = []
        for i in range((2*n - 1)):
            while stack and nums[stack[-1]] &lt; nums[i % n]:
                rst[stack.pop()] = nums[i % n] 
                # åœ¨å¼¹å‡ºçš„è¿™ä¸ªæ—¶æœºï¼Œ å¼¹å‡ºçš„indexæ˜¯å°šæœªæ‰¾åˆ°å³ä¾§ç¬¬ä¸€ä¸ªæ›´å¤§å€¼çš„ï¼Œä¸‹ä¸€ä¸ªè¦å…¥æ ˆçš„ï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªæ›´å¤§å€¼
            stack.append(i % n)
        return rst
</code></pre>

<p><a href="https://leetcode-cn.com/problems/largest-rectangle-in-histogram/">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</a></p>

<pre><code class="language-Python">from typing import List
class Solution:
    def largestRectangleArea(self, heights: List[int]) -&gt; int:
        n = len(heights)
        stack = []
        left = [0] * n
        right = [n] * n

        for i, h in enumerate(heights):  # å•è°ƒé€’å¢æ ˆ
            while stack and heights[stack[-1]] &gt;= h:
                right[stack.pop()] = i  # å³ä¾§æœ€å°ä¸ºå‡ºæ ˆæ—¶çš„å…¥æ ˆå…ƒç´ 
            left[i] = stack[-1] if stack else -1 # æ ˆé¡¶ï¼šå·¦ä¾§å°äºhçš„ç¬¬ä¸€ä¸ªå…ƒç´ 
            stack.append(i)

        ans = max((right[i] - left[i] - 1) * heights[i] for i in range(n)) if n else 0

        return ans
</code></pre>

<h2 id="å¹¶æŸ¥é›†">å¹¶æŸ¥é›†</h2>

<p><a href="https://leetcode-cn.com/problems/redundant-connection/">å†—ä½™è¿æ¥</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findRedundantConnection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">edges</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">edges</span><span class="p">)</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>

        <span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> <span class="c1"># æ‰¾åˆ°æ ¹èŠ‚ç‚¹
</span>            <span class="k">if</span> <span class="n">parent</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">!=</span> <span class="n">index</span><span class="p">:</span>
                <span class="n">parent</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">parent</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">parent</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">def</span> <span class="nf">union</span><span class="p">(</span><span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">):</span>
            <span class="n">parent</span><span class="p">[</span><span class="n">find</span><span class="p">(</span><span class="n">index1</span><span class="p">)]</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">index2</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">node1</span><span class="p">,</span> <span class="n">node2</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">find</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span> <span class="o">!=</span> <span class="n">find</span><span class="p">(</span><span class="n">node2</span><span class="p">):</span> <span class="c1"># å¦‚æœå½“å‰æ ¹èŠ‚ç‚¹ä¸åŒï¼Œ åˆ™æ„å»ºå…±åŒæ ¹èŠ‚ç‚¹
</span>                <span class="n">union</span><span class="p">(</span><span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">]</span> <span class="c1"># å½“å‰æ ¹èŠ‚ç‚¹ç›¸åŒï¼Œæ‰¾åˆ°ç¯ï¼Œè¿”å›å½“å‰è¾¹
</span>
        <span class="k">return</span> <span class="p">[]</span>
</code></pre></div></div>

<h2 id="æ»‘åŠ¨çª—å£">æ»‘åŠ¨çª—å£</h2>

<p><a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/">æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></p>

<p><a href="https://leetcode.cn/problems/substring-with-concatenation-of-all-words/">ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²</a></p>

<p><a href="https://leetcode.cn/problems/minimum-window-substring/">æœ€å°è¦†ç›–å­ä¸²</a></p>

<p><a href="https://leetcode.cn/problems/longest-substring-with-at-most-two-distinct-characters/">è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²</a></p>

<p><a href="https://leetcode.cn/problems/2VG8Kg/">é•¿åº¦æœ€å°çš„å­æ•°ç»„</a></p>

<p><a href="https://leetcode.cn/problems/sliding-window-maximum/">æ»‘åŠ¨çª—å£æœ€å¤§å€¼</a></p>

<p><a href="https://leetcode.cn/problems/permutation-in-string/">å­—ç¬¦ä¸²çš„æ’åˆ—</a></p>

<p><a href="https://leetcode.cn/problems/smallest-range-covering-elements-from-k-lists/">æœ€å°åŒºé—´</a></p>

<p><a href="https://leetcode.cn/problems/minimum-window-subsequence/">æœ€å°çª—å£å­åºåˆ—</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># å’Œå¤§äºç­‰äº target çš„æœ€çŸ­å­æ•°ç»„ : æ»‘åŠ¨ä¼¸ç¼©çª—å£
</span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minSubArrayLen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">right</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span> <span class="c1"># éƒ½ä»0å¼€å§‹æ»‘åŠ¨
</span>            <span class="n">s</span> <span class="o">+=</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">]</span>
            <span class="k">while</span> <span class="n">s</span> <span class="o">&gt;=</span> <span class="n">target</span> <span class="ow">and</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span> <span class="c1"># æ”¶ç¼©çª—å£
</span>                <span class="n">rst</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">rst</span><span class="p">,</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">s</span> <span class="o">-=</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span>
                <span class="n">left</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">right</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">rst</span> <span class="k">if</span> <span class="n">rst</span> <span class="o">!=</span> <span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">)</span> <span class="k">else</span> <span class="mi">0</span>
</code></pre></div></div>

<h3 id="ä½è¿ç®—">ä½è¿ç®—</h3>

<p><a href="https://leetcode.cn/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/">å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">singleNumbers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">functools</span><span class="p">.</span><span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">^</span> <span class="n">y</span><span class="p">,</span> <span class="n">nums</span><span class="p">)</span>  <span class="c1"># å¼‚æˆ–çš„ç»“æœ, æœ€ç»ˆæ˜¯ a ^ b
</span>        <span class="n">div</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">div</span> <span class="o">&amp;</span> <span class="n">ret</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># æ‰¾åˆ° a,b ä¸åŒçš„ç¬¬ä¸€ä½
</span>            <span class="n">div</span> <span class="o">&lt;&lt;=</span> <span class="mi">1</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">n</span> <span class="o">&amp;</span> <span class="n">div</span><span class="p">:</span>  <span class="c1"># ä½¿ç”¨è¿™ä¸€ä½ï¼Œå–å¾— a,b
</span>                <span class="n">a</span> <span class="o">^=</span> <span class="n">n</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">b</span> <span class="o">^=</span> <span class="n">n</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/swap-numbers-lcci/">é¢è¯•é¢˜ 16.01. äº¤æ¢æ•°å­—</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">swapNumbers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">numbers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">numbers</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">-</span> <span class="n">a</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">-</span> <span class="n">a</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
</code></pre></div></div>

<h3 id="æ•°å­¦">æ•°å­¦</h3>

<h4 id="å¿«é€Ÿå¹‚">å¿«é€Ÿå¹‚</h4>

<p>https://leetcode.cn/problems/powx-n/</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">myPow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>

        <span class="k">def</span> <span class="nf">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span> <span class="c1"># è¿­ä»£ç‰ˆæœ¬
</span>            <span class="n">ans</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">factor</span> <span class="o">=</span> <span class="n">x</span>
            <span class="k">while</span> <span class="n">n</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="c1"># é«˜ä½æ˜¯å¦ä¸º1
</span>                    <span class="n">ans</span> <span class="o">*=</span> <span class="n">factor</span>
                <span class="n">factor</span> <span class="o">*=</span> <span class="n">factor</span>
                <span class="n">n</span> <span class="o">//=</span> <span class="mi">2</span>
            <span class="k">return</span> <span class="n">ans</span>

        <span class="k">def</span> <span class="nf">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span> <span class="c1"># é€’å½’ç‰ˆæœ¬
</span>            <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">1</span>
            <span class="n">y</span> <span class="o">=</span> <span class="nb">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">y</span> <span class="o">*</span> <span class="n">y</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">y</span> <span class="c1"># å½“å‰å¹‚
</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># ç¬¦å·åˆ¤æ–­
</span>            <span class="k">return</span> <span class="nb">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span> <span class="o">/</span> <span class="nb">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">n</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="å¿«é€Ÿé™¤">å¿«é€Ÿé™¤</h4>

<p><a href="https://leetcode.cn/problems/divide-two-integers/">29. ä¸¤æ•°ç›¸é™¤</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">divide</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dividend</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">divisor</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="k">def</span> <span class="nf">div</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span> <span class="c1"># å¿«é€Ÿé™¤
</span>            <span class="k">if</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">:</span> <span class="k">return</span> <span class="mi">0</span>
            <span class="n">rst</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">tmp_b</span> <span class="o">=</span> <span class="n">b</span>
            <span class="k">while</span> <span class="n">tmp_b</span> <span class="o">+</span> <span class="n">tmp_b</span> <span class="o">&lt;</span> <span class="n">a</span><span class="p">:</span>
                <span class="n">rst</span> <span class="o">=</span> <span class="n">rst</span> <span class="o">+</span> <span class="n">rst</span>
                <span class="n">tmp_b</span> <span class="o">=</span> <span class="n">tmp_b</span> <span class="o">+</span> <span class="n">tmp_b</span>
            <span class="k">return</span> <span class="n">rst</span> <span class="o">+</span> <span class="n">div</span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">tmp_b</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">neg</span> <span class="o">=</span> <span class="p">(</span><span class="n">dividend</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">^</span> <span class="p">(</span><span class="n">divisor</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">dividend</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">dividend</span><span class="p">)</span>
        <span class="n">divisor</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">divisor</span><span class="p">)</span>

        <span class="n">ans</span> <span class="o">=</span> <span class="n">div</span><span class="p">(</span><span class="n">dividend</span><span class="p">,</span> <span class="n">divisor</span><span class="p">)</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="o">-</span><span class="n">ans</span> <span class="k">if</span> <span class="n">neg</span> <span class="k">else</span> <span class="n">ans</span>
        <span class="k">if</span> <span class="n">ans</span> <span class="o">&lt;</span> <span class="o">-</span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">31</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ans</span> <span class="o">&gt;</span> <span class="p">((</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">31</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">31</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

<p><a href="https://leetcode-cn.com/problems/convert-a-number-to-hexadecimal/">æ•°å­—è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ•°</a> 
æ³¨æ„ -1 ï¼Œ è¡¥ç è¡¨ç¤ºï¼Œé™¤ä»¥ä»»ä½•æ•°éƒ½æ˜¯-1ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">toHex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">CONV</span> <span class="o">=</span> <span class="s">"0123456789abcdef"</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># 32ä½2è¿›åˆ¶æ•°ï¼Œè½¬æ¢æˆ16è¿›åˆ¶ -&gt; 4ä¸ªä¸€ç»„ï¼Œä¸€å…±å…«ç»„
</span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
            <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span> <span class="o">%</span> <span class="mi">16</span><span class="p">)</span>
            <span class="n">num</span> <span class="o">//=</span> <span class="mi">16</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">num</span><span class="p">:</span> <span class="c1"># å¦‚æœæ˜¯0ï¼Œ åˆ™è·³å‡ºï¼Œ æ³¨æ„-1æ˜¯ä¸ä¼šè·³å‡º
</span>                <span class="k">break</span>
        <span class="k">return</span> <span class="s">""</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">CONV</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">ans</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</code></pre></div></div>

<h3 id="æ’åˆ—ç»„åˆ-1">æ’åˆ—ç»„åˆ</h3>

<p><a href="https://leetcode.cn/problems/combination-sum-ii/">40. ç»„åˆæ€»å’Œ II</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">combinationSum2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">candidates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">def</span> <span class="nf">backtrace</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">nums</span><span class="p">,</span> <span class="n">tmp</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">target</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="k">if</span> <span class="n">target</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                <span class="k">return</span>

            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="n">target</span><span class="p">:</span>
                    <span class="n">backtrace</span><span class="p">(</span><span class="n">target</span> <span class="o">-</span> <span class="n">n</span><span class="p">,</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">tmp</span> <span class="o">+</span> <span class="p">[</span><span class="n">n</span><span class="p">])</span>


        <span class="n">backtrace</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">candidates</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<h3 id="è´ªå¿ƒ">è´ªå¿ƒ</h3>

<p><a href="https://leetcode.cn/problems/largest-odd-number-in-string/">1903. å­—ç¬¦ä¸²ä¸­çš„æœ€å¤§å¥‡æ•°</a>, æœ€ä¼˜è§£çš„ç‰¹æ€§æ˜¯ï¼Œ ä»¥å¥‡æ•°ç»“å°¾çš„æœ€é•¿çš„ä¸²</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">largestOddNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">num</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">num</span><span class="p">[:</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>

        <span class="k">return</span> <span class="s">""</span>
</code></pre></div></div>

<h3 id="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</h3>

<h4 id="ä¹°å–è‚¡ç¥¨">ä¹°å–è‚¡ç¥¨</h4>

<p>åŠ¨æ€è§„åˆ’ï¼Œ å½“å‰çŠ¶æ€æ˜¯æŒæœ‰è‚¡ç¥¨ã€æœªæŒæœ‰è‚¡ç¥¨ä¸‹çš„æœ€å¤§æ”¶ç›Š
<a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/description/">121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº</a>
<a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/">122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IIï¼š</a>
<a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iii/">123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IIIï¼š</a>
<a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iv/">188. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IVï¼š</a>
<a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/">309. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«å†·å†»æœŸï¼š</a></p>

<p><a href="https://leetcode.cn/problems/gu-piao-de-zui-da-li-run-lcof/">å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦</a></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># æŒæœ‰ç¬¬0ä¸ªè‚¡ç¥¨çš„åˆ©æ¶¦
</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>  <span class="c1"># ä¹‹å‰æ²¡æŒæœ‰ï¼Œæˆ–è€…å½“å‰æŒæœ‰åå–å‡º
</span>            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>  <span class="c1"># ä¹‹å‰æŒæœ‰ï¼Œä¹‹å‰æ²¡æŒæœ‰ï¼Œç°åœ¨ä¹°å…¥, 0-prices[i]ç¡®ä¿åªä¹°å–ä¸€æ¬¡ï¼Œ
</span>        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># å¦åˆ™ä½dp[i - 1][0] - prices
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>  <span class="c1">## çŠ¶æ€å‹ç¼©
</span>    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="n">dp0</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">dp1</span> <span class="o">=</span> <span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># æŒæœ‰ç¬¬0ä¸ªè‚¡ç¥¨çš„åˆ©æ¶¦
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
            <span class="n">dp0</span><span class="p">,</span> <span class="n">dp1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp0</span><span class="p">,</span> <span class="n">dp1</span> <span class="o">+</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp1</span><span class="p">,</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>  <span class="c1"># ä¹‹å‰æŒæœ‰..ä¹‹å‰æ²¡æŒæœ‰ï¼Œç°åœ¨ä¹°å…¥
</span>        <span class="k">return</span> <span class="n">dp0</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># dp[i][0] ç¬¬iå¤©ï¼Œ æ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š
</span>        <span class="c1"># dp[i][1] ç¬¬iå¤©ï¼Œ æ‰‹ä¸Šæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š
</span>        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
        <span class="n">dp0</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">dp1</span> <span class="o">=</span> <span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">maxv</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
            <span class="n">dp0</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp0</span><span class="p">,</span> <span class="n">dp1</span> <span class="o">+</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">dp1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp1</span><span class="p">,</span> <span class="n">dp0</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        
        <span class="n">maxv</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp1</span><span class="p">,</span> <span class="n">dp0</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">maxv</span>
<span class="s">"""
        # dp[i][0] ç¬¬iå¤©ï¼Œ æ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š
        # dp[i][1] ç¬¬iå¤©ï¼Œ æ‰‹ä¸Šæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š
        n = len(prices)
        dp = [[0] * 2 for _ in range(n)]
        dp[0][1] = - prices[0]
        maxv = 0
        for i in range(1, n):
            dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + prices[i])
            dp[i][1] = max(dp[i-1][1], dp[i - 1][0] - prices[i])
        
        maxv = max(dp[n - 1][0], dp[n - 1][1])

        return maxv

"""</span>
</code></pre></div></div>

<p>å¸¦è´¹ç”¨çš„äº¤æ˜“</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">fee</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
        <span class="c1"># dp[i][j] æœ‰æ— é™æ¬¡æ¬¡äº¤æ˜“, jæ˜¯å½“å‰æ˜¯å¦æŒæœ‰è‚¡ç¥¨ï¼Œ iæ˜¯åœ¨ç¬¬iå¤©ï¼Œ è¡¨ç¤ºåœ¨ç¬¬iå¤©çš„æœ€å¤§æ”¶ç›Š
</span>        <span class="c1"># dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + p[i]) # å®Œæˆä¸€ç¬”äº¤æ˜“
</span>        <span class="c1"># dp[i][1] = max(dp[i - 1][1], dp[i - 1][0] - p[i]) # è´­å…¥ä¸€ç¬”äº¤æ˜“
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="c1"># for k in range(1,nk + 1):
</span>                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">fee</span><span class="p">)</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

        <span class="c1"># rst = max(dp[n - 1][nk - 1][0], dp[n - 1][nk - 1][1])
</span>        <span class="n">rst2</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">rst2</span>
</code></pre></div></div>

<p>åªèƒ½äº¤æ˜“kæ¬¡</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
        <span class="n">nk</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nk</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
        <span class="c1"># dp[i][k][j] æœ‰kæ¬¡äº¤æ˜“, jæ˜¯å½“å‰æ˜¯å¦æŒæœ‰è‚¡ç¥¨ï¼Œ iæ˜¯åœ¨ç¬¬iå¤©ï¼Œ è¡¨ç¤ºåœ¨ç¬¬iå¤©çš„æœ€å¤§æ”¶ç›Š
</span>        <span class="c1"># dp[i][k][0] = max(dp[i - 1][k][0], dp[i - 1][k][1] + p[i]) # å®Œæˆä¸€ç¬”äº¤æ˜“
</span>        <span class="c1"># dp[i][k][1] = max(dp[i - 1][k][1], dp[i - 1][k - 1][0] - p[i]) # è´­å…¥ä¸€ç¬”äº¤æ˜“
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">nk</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

        <span class="c1"># rst = max(dp[n - 1][nk - 1][0], dp[n - 1][nk - 1][1])
</span>        <span class="n">rst2</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">nk</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">nk</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">rst2</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/lian-xu-zi-shu-zu-de-zui-da-he-lcof/">å‰‘æŒ‡ Offer 42. è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ</a></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxSubArray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">101</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>  <span class="c1"># å­æ•°ç»„ï¼Œåªä¸ i - 1 æœ‰å…³
</span>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
    <span class="c1"># è¶…æ—¶
</span>    <span class="k">def</span> <span class="nf">maxSubArrayWrong</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">101</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
                <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>   <span class="c1"># å­åºåˆ—æ‰éœ€è¦ä¸ &lt; i - 1 çš„éƒ½æœ‰å…³
</span>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/longest-increasing-subsequence/">300. æœ€é•¿é€’å¢å­åºåˆ—</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">SolutionDP</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">lengthOfLIS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1">#  é•¿åº¦ä¸ºiçš„numsæœ€å¤§çš„å­åºåˆ—æ•°å­—ä¸ºnums[i]
</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">'-inf'</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>  <span class="c1"># dpæ•°ç»„è¿­ä»£æ–¹å¼ï¼Œä¸ä¹‹å‰çš„æ‰€æœ‰é€‰é¡¹å¯¹æ¯”ï¼Œè¿æ¥
</span>                <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]):</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="c1"># else:
</span>                <span class="c1">#     dp[i] = max(dp[i], 1)
</span>            <span class="n">rst</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">rst</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        
        <span class="k">return</span> <span class="n">rst</span>
<span class="s">"""
DP + è´ªå¿ƒï¼š å¯èƒ½æ›´åå‘äºè´ªå¿ƒä¸€äº›.
[0,8,4,12,2]
dp:  é•¿åº¦ä¸ºiçš„æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œæœ«å°¾å…ƒç´ çš„æœ€å°å€¼
0 [0]
1 [0, 8]
2 [0, 4]   # å½“å°äºçš„æ—¶å€™ï¼Œæ›¿æ¢
3 [0, 4, 12]   # å½“å¤§äºçš„æ—¶å€™ï¼Œæ·»åŠ 
4 [0, 2, 12]   # æ›¿æ¢çš„æ„ä¹‰åœ¨äºï¼Œdp[1]ä»£è¡¨çš„é•¿åº¦ä¸º2çš„æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œå°¾å·´æ›´å°äº†ï¼Œèƒ½å¤Ÿå¸®åŠ©æ‰¾åˆ°æ›´é•¿çš„å­åºåˆ—

12,0,1,2,3
[12] # æ¯”å¦‚è¿™é‡Œï¼Œå¦‚æœä¸æ›¿æ¢ï¼Œè®²ç©¶æ— æ³•æ‰¾åˆ°æœ€é•¿çš„
[0]
[0, 1]
[0, 1, 2]
[0, 1, 2, 3]

"""</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">lengthOfLIS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">d</span> <span class="ow">or</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="n">d</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>  <span class="c1"># å¦‚æœå¤§äºå°¾éƒ¨å…ƒç´ ï¼Œæ·»åŠ 
</span>                <span class="n">d</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>                   <span class="c1"># å¦‚æœå°äºï¼Œæ‰¾åˆ°ä½ç½®
</span>                <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="n">loc</span> <span class="o">=</span> <span class="n">r</span>   <span class="c1"># location / position, bisect.bisect_left()
</span>                <span class="k">while</span> <span class="n">l</span> <span class="o">&lt;=</span> <span class="n">r</span><span class="p">:</span>
                    <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span> <span class="o">+</span> <span class="n">r</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
                    <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">n</span><span class="p">:</span>
                        <span class="n">loc</span> <span class="o">=</span> <span class="n">mid</span>
                        <span class="n">r</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">l</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">d</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span>    <span class="c1"># æ›¿æ¢æ‰
</span>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/zui-chang-bu-han-zhong-fu-zi-fu-de-zi-zi-fu-chuan-lcof/">å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">lengthOfLongestSubstring</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">while</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
                <span class="n">j</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">i</span> <span class="o">-</span> <span class="n">j</span><span class="p">:</span>  <span class="c1"># è¯´æ˜é‡å¤å­—ç¬¦è¶Šç•Œ
</span>                <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="n">j</span>
            
            <span class="n">rst</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">rst</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">rst</span>

<span class="c1">## æ»‘åŠ¨çª—å£çš„æ–¹å¼
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">lengthOfLongestSubstring</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
        <span class="n">cset</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">left</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">cset</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">left</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>  <span class="c1"># åˆ é™¤ï¼Œå·¦è¾¹æ”¶ç¼©
</span>            <span class="k">while</span> <span class="n">right</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">s</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="ow">in</span> <span class="n">cset</span><span class="p">:</span>
                <span class="n">cset</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">right</span><span class="p">])</span>   <span class="c1"># æ·»åŠ ï¼Œå¾€å³æ‰©å¼ 
</span>                <span class="n">right</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span>
            <span class="n">left</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

<p>å¼‚å½¢DP
<a href="https://leetcode.cn/problems/ugly-number-ii/">264. ä¸‘æ•° II</a></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">nthUglyNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">p2</span> <span class="o">=</span> <span class="n">p3</span> <span class="o">=</span> <span class="n">p5</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">num2</span><span class="p">,</span> <span class="n">num3</span><span class="p">,</span> <span class="n">num5</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">p2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">p3</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">p5</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">num2</span><span class="p">,</span> <span class="n">num3</span><span class="p">,</span> <span class="n">num5</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">num2</span><span class="p">:</span>
                <span class="n">p2</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">num3</span><span class="p">:</span>
                <span class="n">p3</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">num5</span><span class="p">:</span>
                <span class="n">p5</span> <span class="o">+=</span> <span class="mi">1</span>
        
        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
</code></pre></div></div>
<p><a href="https://leetcode.cn/problems/integer-break/">343. æ•´æ•°æ‹†åˆ†</a>
<a href="https://leetcode.cn/problems/jian-sheng-zi-lcof/">å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">integerBreak</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
                <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span><span class="p">]</span> <span class="o">*</span> <span class="n">j</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span><span class="p">)</span> <span class="o">*</span> <span class="n">j</span> <span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
</code></pre></div></div>

<p>æ¦‚ç‡dp
<a href="https://leetcode.cn/problems/nge-tou-zi-de-dian-shu-lcof/">å‰‘æŒ‡ Offer 60. nä¸ªéª°å­çš„ç‚¹æ•°</a></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">dicesProbability</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">/</span> <span class="mi">6</span><span class="p">]</span> <span class="o">*</span> <span class="mi">6</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dp</span><span class="p">)):</span>
                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
                    <span class="n">tmp</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">/</span> <span class="mi">6</span>
            <span class="n">dp</span> <span class="o">=</span> <span class="n">tmp</span>
        <span class="k">return</span> <span class="n">dp</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ä»ç»ˆç‚¹è¿”å›è¿›è¡ŒDP, ç„¶åä»èµ·ç‚¹è·å–ç»“æœ
</span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">pathWithObstacles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obstacleGrid</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">obstacleGrid</span><span class="p">)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">obstacleGrid</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">obstacleGrid</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ans</span>
        <span class="n">obstacleGrid</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">)):</span>  <span class="c1"># reversed éå†
</span>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">obstacleGrid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">i</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">obstacleGrid</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>  <span class="c1"># å³ï¼Œå·¦
</span>                        <span class="n">obstacleGrid</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
                    <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">j</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">obstacleGrid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>  <span class="c1"># ä¸‹ï¼Œä¸Š
</span>                        <span class="n">obstacleGrid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="k">if</span> <span class="n">obstacleGrid</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># è·å–ç»“æœ
</span>            <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="ow">and</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">obstacleGrid</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>  
                    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1"># print("\n".join([str(x) for x in obstacleGrid]))
</span>        <span class="k">return</span> <span class="n">ans</span>

<span class="c1"># ä¸€èˆ¬å›æº¯
</span><span class="k">class</span> <span class="nc">SolutionDFS</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">pathWithObstacles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obstacleGrid</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">obstacleGrid</span><span class="p">)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">obstacleGrid</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">rst</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">==</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">obstacleGrid</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">])</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">extend</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="mi">0</span><span class="o">&lt;=</span><span class="n">x</span><span class="o">&lt;</span><span class="n">m</span> <span class="ow">and</span> <span class="mi">0</span><span class="o">&lt;=</span><span class="n">y</span><span class="o">&lt;</span><span class="n">n</span><span class="p">)</span> <span class="ow">or</span> <span class="n">obstacleGrid</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">obstacleGrid</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">])</span>
            <span class="n">obstacleGrid</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">dfs</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
            <span class="n">dfs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
            <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<h2 id="èƒŒåŒ…">èƒŒåŒ…</h2>

<h3 id="0---1-èƒŒåŒ…">0 - 1 èƒŒåŒ…</h3>

<p>åŸºæœ¬å‹:</p>

<h3 id="æ— ç©·èƒŒåŒ…">æ— ç©·èƒŒåŒ…</h3>
<p><a href="https://leetcode.cn/problems/coin-lcci/">é¢è¯•é¢˜ 08.11. ç¡¬å¸</a></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">waysToChange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">M</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">**</span> <span class="mi">9</span> <span class="o">+</span> <span class="mi">7</span>
        <span class="n">coins</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>  <span class="c1"># å¦‚æœå®¹é‡å¤Ÿå¤§
</span>                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span> <span class="o">%</span> <span class="n">M</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">dp</span><span class="p">]))</span>
        <span class="s">""" n = 10, coins=[1, 5, 10, 25], ä¹±åºcoinsä¹Ÿæ˜¯OKçš„
        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
        [1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3]
        [1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 4]
        [1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 4]  ä»ä¸Šè¾¹ï¼Œä»¥åŠå·¦è¾¹é—´éš”coins[i]çš„åœ°æ–¹ï¼Œç›¸åŠ ï¼Œæˆ–è€…è·å–æœ€å¤§å€¼
        """</span>
        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="n">n</span><span class="p">]</span>
    <span class="k">def</span> <span class="nf">waysToChange2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> <span class="c1"># çŠ¶æ€å‹ç¼©
</span>        <span class="n">M</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">**</span> <span class="mi">9</span> <span class="o">+</span> <span class="mi">7</span>
        <span class="n">coins</span> <span class="o">=</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">coins</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">c</span><span class="p">])</span> <span class="o">%</span> <span class="n">M</span>

        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/coin-change/">322. é›¶é’±å…‘æ¢</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">coinChange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coins</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">amount</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">amount</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coins</span><span class="p">)</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">)]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>  <span class="c1"># äºŒç»´DP, èƒŒåŒ…å¤§å° m
</span>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># å®¹é‡ n
</span>                <span class="k">if</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
        <span class="c1"># print("\n".join([str(x) for x in dp]))
</span>        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">n</span><span class="p">]</span> <span class="k">if</span> <span class="n">dp</span><span class="p">[</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">n</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">)</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>

    <span class="k">def</span> <span class="nf">coinChangeDP</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coins</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">amount</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>  <span class="c1"># åŠ¨æ€è§„åˆ’ï¼Œ å®Œå…¨èƒŒåŒ…
</span>        <span class="n">n</span> <span class="o">=</span> <span class="n">amount</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">)]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">coins</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">amount</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># æšä¸¾
</span>                <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">c</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># è¿™é‡Œå–çš„æ˜¯minå€¼
</span>        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">amount</span><span class="p">]</span> <span class="k">if</span> <span class="n">dp</span><span class="p">[</span><span class="n">amount</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">)</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>

    <span class="k">def</span> <span class="nf">coinChange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coins</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">amount</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>  <span class="c1"># é€’å½’æœç´¢ + ç¼“å­˜
</span>        <span class="o">@</span><span class="n">functools</span><span class="p">.</span><span class="n">lru_cache</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">dp</span><span class="p">(</span><span class="n">rem</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rem</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">if</span> <span class="n">rem</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="mi">0</span>
            <span class="n">mini</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">1e9</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">coin</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">coins</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="n">dp</span><span class="p">(</span><span class="n">rem</span> <span class="o">-</span> <span class="n">coin</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">res</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">res</span> <span class="o">&lt;</span> <span class="n">mini</span><span class="p">:</span>
                    <span class="n">mini</span> <span class="o">=</span> <span class="n">res</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="n">mini</span> <span class="k">if</span> <span class="n">mini</span> <span class="o">&lt;</span> <span class="nb">int</span><span class="p">(</span><span class="mf">1e9</span><span class="p">)</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">coins</span> <span class="o">=</span> <span class="n">coins</span>
        <span class="k">if</span> <span class="n">amount</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="n">dp</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>




<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">coinChange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coins</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">amount</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coins</span><span class="p">)</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="n">amount</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">amount</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>    <span class="c1"># åˆå§‹åŒ–ä¸ºä¸€ä¸ªè¾ƒå¤§çš„å€¼ï¼Œå¦‚ +inf æˆ– amount+1
</span>        <span class="c1"># åˆæ³•çš„åˆå§‹åŒ–
</span>        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>    <span class="c1"># å…¶ä»– dp[0][j]å‡ä¸åˆæ³•
</span>        
        <span class="c1"># å®Œå…¨èƒŒåŒ…ï¼šå¥—ç”¨0-1èƒŒåŒ…ã€éå†ç¡¬å¸æ•°ç›®kã€‘
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>                     <span class="c1"># ç¬¬ä¸€å±‚å¾ªç¯ï¼šéå†ç¡¬å¸
</span>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">amount</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>               <span class="c1"># ç¬¬äºŒå±‚å¾ªç¯ï¼šéå†èƒŒåŒ…
</span>                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">j</span><span class="o">//</span><span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>    <span class="c1"># ç¬¬ä¸‰å±‚å¾ªç¯ï¼šå½“å‰ç¡¬å¸coinå–kä¸ª (k*coin&lt;=amount)
</span>                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="n">k</span><span class="o">*</span><span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">k</span> <span class="p">)</span>

        <span class="n">ans</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">amount</span><span class="p">]</span> 
        <span class="k">return</span> <span class="n">ans</span> <span class="k">if</span> <span class="n">ans</span> <span class="o">!=</span> <span class="n">amount</span><span class="o">+</span><span class="mi">1</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">coinChange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coins</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">amount</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coins</span><span class="p">)</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="n">amount</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">amount</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>    <span class="c1"># åˆå§‹åŒ–ä¸ºä¸€ä¸ªè¾ƒå¤§çš„å€¼ï¼Œå¦‚ +inf æˆ– amount+1
</span>        <span class="c1"># åˆæ³•çš„åˆå§‹åŒ–
</span>        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>    <span class="c1"># å…¶ä»– dp[0][j]å‡ä¸åˆæ³•
</span>        
        <span class="c1"># å®Œå…¨èƒŒåŒ…ï¼šä¼˜åŒ–åçš„çŠ¶æ€è½¬ç§»
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>             <span class="c1"># ç¬¬ä¸€å±‚å¾ªç¯ï¼šéå†ç¡¬å¸
</span>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">amount</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>       <span class="c1"># ç¬¬äºŒå±‚å¾ªç¯ï¼šéå†èƒŒåŒ…
</span>                <span class="k">if</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>          <span class="c1"># å®¹é‡æœ‰é™ï¼Œæ— æ³•é€‰æ‹©ç¬¬iç§ç¡¬å¸
</span>                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>                       <span class="c1"># å¯é€‰æ‹©ç¬¬iç§ç¡¬å¸
</span>                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">ans</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">amount</span><span class="p">]</span> 
        <span class="k">return</span> <span class="n">ans</span> <span class="k">if</span> <span class="n">ans</span> <span class="o">!=</span> <span class="n">amount</span><span class="o">+</span><span class="mi">1</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/partition-equal-subset-sum/">416. åˆ†å‰²ç­‰å’Œå­é›†</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">canPartition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">total</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="n">target</span> <span class="o">=</span> <span class="n">total</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">False</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">target</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="c1"># dp[i][j] ä»å‰iä¸ªå…ƒç´ é€‰å‡ºåˆšå¥½ç»„æˆj
</span>        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">target</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>  <span class="c1"># å®¹é‡å­˜ä¸ä¸‹
</span>                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">|</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span>
        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">target</span><span class="p">]</span>
</code></pre></div></div>
<p><a href="https://leetcode-cn.com/problems/ones-and-zeroes/">474. ä¸€å’Œé›¶</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findMaxForm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">lenstr</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">strs</span><span class="p">)</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lenstr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lenstr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">c0</span> <span class="o">=</span> <span class="n">strs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="n">count</span><span class="p">(</span><span class="s">'0'</span><span class="p">)</span>
            <span class="n">c1</span> <span class="o">=</span> <span class="n">strs</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="n">count</span><span class="p">(</span><span class="s">'1'</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># 0 èƒŒåŒ…
</span>                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># 1 èƒŒåŒ…
</span>                    <span class="k">if</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">c0</span> <span class="ow">or</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">c1</span><span class="p">:</span>
                        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">c0</span><span class="p">][</span><span class="n">k</span> <span class="o">-</span> <span class="n">c1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">lenstr</span><span class="p">][</span><span class="n">m</span><span class="p">][</span><span class="n">n</span><span class="p">]</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/target-sum/description/">494. ç›®æ ‡å’Œ</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findTargetSumWays</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">target</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">total</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">target</span> <span class="o">+</span> <span class="n">total</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        
        <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="n">target</span> <span class="o">+</span> <span class="n">total</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>  <span class="c1"># è¿™é‡Œæ¯”è¾ƒæœ‰æ„æ€æ˜¯ï¼ŒèƒŒåŒ…çš„å¤§å°æ˜¯éšè—çš„ï¼Œæ˜¯è¿™æ ·è®¡ç®—å‡ºæ¥çš„
</span>        <span class="n">neg</span> <span class="o">=</span> <span class="p">(</span><span class="n">total</span> <span class="o">-</span> <span class="n">target</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">cap</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">neg</span><span class="p">)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>

        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">cap</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span> 
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cap</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span>
        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">cap</span><span class="p">]</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/last-stone-weight-ii/">1049. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">lastStoneWeightII</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stones</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        
        <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">stones</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">max</span><span class="p">(</span><span class="n">stones</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">total</span> <span class="o">//</span> <span class="mi">2</span><span class="p">:</span>   <span class="c1"># æœ€å¤§å€¼&gt;=æ€»å’Œçš„ä¸€åŠï¼Œå¯ç›´æ¥è¿”å›ç»“æœã€æœ€å¤§çŸ³å¤´ä¾æ¬¡ä¸å…¶ä»–çŸ³å¤´ç²‰ç¢ã€‘
</span>            <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">max</span><span class="p">(</span><span class="n">stones</span><span class="p">)</span> <span class="o">-</span> <span class="n">total</span>
        
        <span class="c1"># åˆå§‹åŒ–
</span>        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">stones</span><span class="p">)</span>
        <span class="n">target</span> <span class="o">=</span> <span class="n">total</span> <span class="o">//</span> <span class="mi">2</span>             <span class="c1"># å‡‘å‡ºçŸ³å¤´é‡é‡çš„æœ€å¤§ç›®æ ‡å€¼
</span>        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">False</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">target</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
        <span class="c1"># dp[i][j]: å‰iä¸ªçŸ³å¤´èƒ½å¦ç»„æˆé‡é‡j
</span>        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>     <span class="c1"># å…¶ä»– dp[0][j]å‡ä¸ºFalse
</span>
        <span class="c1"># çŠ¶æ€æ›´æ–°
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">target</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">stones</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>     <span class="c1"># å®¹é‡æœ‰é™ï¼Œæ— æ³•é€‰æ‹©ç¬¬iä¸ªçŸ³å¤´
</span>                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>                   <span class="c1"># å¯é€‰æ‹©ç¬¬iä¸ªçŸ³å¤´ï¼Œä¹Ÿå¯ä¸é€‰
</span>                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">|</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="n">stones</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>

        <span class="c1"># ç»“æœå›æº¯
</span>        <span class="n">ans</span> <span class="o">=</span> <span class="n">total</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>                <span class="c1"># èƒ½å‡‘å‡ºé‡é‡ä¸ºjçš„çŸ³å¤´
</span>                <span class="n">ans</span> <span class="o">=</span> <span class="n">total</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">j</span>
                <span class="k">break</span>                   <span class="c1"># å€’åºï¼Œç¬¬ä¸€ä¸ªå³ä¸ºèƒ½å‡‘å‡ºçš„æœ€å¤§neg
</span>        
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

<h3 id="åŒºé—´dp">åŒºé—´DP</h3>

<p><a href="https://leetcode.cn/problems/boolean-evaluation-lcci/">é¢è¯•é¢˜ 08.14. å¸ƒå°”è¿ç®—</a></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">int</span> <span class="nf">countEval</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">,</span> <span class="kt">int</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//ç‰¹ä¾‹</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">)</span> <span class="o">==</span> <span class="n">result</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kt">char</span><span class="o">[]</span> <span class="n">ch</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">();</span>
    <span class="c1">//å®šä¹‰çŠ¶æ€</span>
    <span class="kt">int</span><span class="o">[][][]</span> <span class="n">dp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">ch</span><span class="o">.</span><span class="na">length</span><span class="o">][</span><span class="n">ch</span><span class="o">.</span><span class="na">length</span><span class="o">][</span><span class="mi">2</span><span class="o">];</span>
    <span class="c1">//base case</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ch</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">ch</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'0'</span> <span class="o">||</span> <span class="n">ch</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'1'</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">i</span><span class="o">][</span><span class="n">ch</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="c1">//å¥—åŒºé—´dpæ¨¡æ¿</span>
    <span class="c1">//æšä¸¾åŒºé—´é•¿åº¦lenï¼Œè·³æ­¥ä¸º2ï¼Œä¸€ä¸ªæ•°å­—ä¸€ä¸ªç¬¦å·</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span> <span class="n">len</span> <span class="o">&lt;=</span> <span class="n">ch</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">len</span> <span class="o">+=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//æšä¸¾åŒºé—´èµ·ç‚¹ï¼Œæ•°å­—ä½ï¼Œè·³æ­¥ä¸º2</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">ch</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="n">len</span><span class="o">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">//åŒºé—´ç»ˆç‚¹ï¼Œæ•°å­—ä½</span>
            <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">len</span><span class="o">;</span>
            <span class="c1">//æšä¸¾åˆ†å‰²ç‚¹ï¼Œä¸‰ç§ '&amp;','|', '^'ï¼Œè·³æ­¥ä¸º2</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">k</span> <span class="o">+=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">ch</span><span class="o">[</span><span class="n">k</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'&amp;'</span><span class="o">)</span> <span class="o">{</span>
                    <span class="c1">//ç»“æœä¸º0 æœ‰ä¸‰ç§æƒ…å†µï¼š 0 0, 0 1, 1 0</span>
                    <span class="c1">//ç»“æœä¸º1 æœ‰ä¸€ç§æƒ…å†µï¼š 1 1</span>
                    <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">+=</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">0</span><span class="o">];</span>
                    <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">+=</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">1</span><span class="o">];</span>
                <span class="o">}</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">ch</span><span class="o">[</span><span class="n">k</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'|'</span><span class="o">)</span> <span class="o">{</span>
                    <span class="c1">//ç»“æœä¸º0 æœ‰ä¸€ç§æƒ…å†µï¼š 0 0</span>
                    <span class="c1">//ç»“æœä¸º1 æœ‰ä¸‰ç§æƒ…å†µï¼š 0 1, 1 0, 1 1</span>
                    <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">+=</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">0</span><span class="o">];</span>
                    <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">+=</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">1</span><span class="o">];</span>
                <span class="o">}</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">ch</span><span class="o">[</span><span class="n">k</span><span class="o">]</span> <span class="o">==</span> <span class="sc">'^'</span><span class="o">)</span> <span class="o">{</span>
                    <span class="c1">//ç»“æœä¸º0 æœ‰ä¸¤ç§æƒ…å†µï¼š 0 0, 1 1</span>
                    <span class="c1">//ç»“æœä¸º1 æœ‰ä¸¤ç§æƒ…å†µï¼š 0 1, 1 0</span>
                    <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">+=</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">1</span><span class="o">];</span>
                    <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">+=</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">+</span> <span class="n">dp</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">*</span> <span class="n">dp</span><span class="o">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">j</span><span class="o">][</span><span class="mi">1</span><span class="o">];</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">dp</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="n">ch</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="n">result</span><span class="o">];</span>
<span class="o">}</span>

</code></pre></div></div>

<h2 id="æ•°å­¦-1">æ•°å­¦</h2>

<p><a href="https://zh.wikipedia.org/zh-sg/%E6%B5%B7%E4%BC%A6%E5%85%AC%E5%BC%8F">æµ·ä¼¦å…¬å¼</a>
a,b,c ä¸ºä¸‰è¾¹é•¿
s = (a + b + c) / 2
A = sqrt(s * (s - a) * (s - b) * (s - c))</p>

<p><a href="https://leetcode.cn/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/">çº¦ç‘Ÿå¤«ç¯</a></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="c1"># æ•°å­¦
</span>    <span class="k">def</span> <span class="nf">lastRemaining</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">m</span><span class="p">)</span> <span class="o">%</span> <span class="n">i</span>
        <span class="k">return</span> <span class="n">x</span>

<span class="k">class</span> <span class="nc">SolutionSimulate</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">lastRemaining</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
        <span class="n">last</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
            <span class="n">last</span> <span class="o">=</span> <span class="p">(</span><span class="n">last</span> <span class="o">+</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span>
            <span class="n">nums</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">last</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></div>

<h2 id="hard">Hard</h2>

<h3 id="ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²"><a href="https://leetcode-cn.com/problems/substring-with-concatenation-of-all-words/">ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²</a></h3>

<pre><code class="language-Python">import collections
from typing import List
class Solution:
    def findSubstring(self, s: str, words: List[str]) -&gt; List[int]:
        wordmap = collections.Counter(words)

        wordlen = len(words[0])
        allwordlen = wordlen * (len(words))  # ç›®æ ‡å­ä¸²é•¿åº¦
        rst = []
        n = len(s)

        for i in range(0, n - allwordlen + 1):
            ss = s[i : i + allwordlen]  # åŒºé—´æšä¸¾
            if len(ss) != allwordlen:
                print(ss, len(ss))
                break
            ss = [ss[i : i + wordlen] for i in range(0, len(ss), wordlen)]  #   åˆ‡åˆ†å•è¯
            ssmap = collections.Counter(ss)  # è®¡æ•°

            if ssmap == wordmap: # å¯¹æ¯”
                rst.append(i)
        
        return rst
</code></pre>

<h3 id="åˆå¹¶kä¸ªå‡åºé“¾è¡¨"><a href="https://leetcode-cn.com/problems/merge-k-sorted-lists/">åˆå¹¶Kä¸ªå‡åºé“¾è¡¨</a></h3>

<pre><code class="language-Python">from typing import List, Optional
class ListNode:
    def __init__(self, val=0, next=None):
     self.val = val
     self.next = next
class Solution:
    def mergeKLists(self, lists: List[Optional[ListNode]]) -&gt; Optional[ListNode]:
        
        def merge(l1, l2):
            dummy = ListNode()
            ptr = dummy
            while l1 and l2:
                if l1.val &lt; l2.val:
                    ptr.next = l1
                    l1 = l1.next
                else:
                    ptr.next = l2
                    l2 = l2.next
                ptr = ptr.next
            
            if l1: ptr.next = l1
            if l2: ptr.next = l2
            return dummy.next
        
        def mergeLinks(linklists):
            if not linklists:
                return None
            if len(linklists) == 1:
                return linklists[0]
            
            mid = len(linklists) // 2

            left = mergeLinks(linklists[:mid])
            right = mergeLinks(linklists[mid:])

            return merge(left, right)
        
        return mergeLinks(lists)
</code></pre>

<h3 id="é€šé…ç¬¦åŒ¹é…">é€šé…ç¬¦åŒ¹é…</h3>

<p><a href="https://leetcode-cn.com/problems/wildcard-matching/">44. é€šé…ç¬¦åŒ¹é…</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isMatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">p</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>

        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">False</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">'*'</span><span class="p">:</span>
                <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span>  <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
                <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">"*"</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">or</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">"?"</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
        <span class="c1"># print("\n".join([str(x) for x in dp]))
</span>        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">]</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/regular-expression-matching/">10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isMatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">p</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">matches</span><span class="p">(</span><span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
            <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">'.'</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
            <span class="k">return</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>

        <span class="n">f</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">False</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># æ³¨æ„éœ€è¦ä»0å¼€å§‹ï¼Œå› ä¸º a* è¿™æ ·çš„æ¨¡å¼ï¼Œæ˜¯å¯ä»¥åŒ¹é…ç©ºä¸²çš„
</span>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">'*'</span><span class="p">:</span>
                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">|=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">matches</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
                        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">|=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>  <span class="c1"># è¿™é‡Œè¿™ä¸ª f[i - 1][j] æ¯”è¾ƒç²¾é«“ï¼Œé€‚é… b* çš„1åˆ°å¤šä¸ªçš„æƒ…å†µ
</span>                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">matches</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
                        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">|=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">n</span><span class="p">]</span>

</code></pre></div></div>

<h3 id="nçš‡å">Nçš‡å</h3>

<p><a href="https://leetcode-cn.com/problems/n-queens/">Nçš‡å</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">solveNQueens</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="c1"># åˆ—
</span>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">==</span> <span class="s">"Q"</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>
            <span class="c1"># æ­£å¯¹è§’çº¿
</span>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">col</span> <span class="o">+</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">matrix</span><span class="p">[</span><span class="n">row</span> <span class="o">-</span> <span class="n">i</span><span class="p">][</span><span class="n">col</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">"Q"</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>
            <span class="c1"># åå¯¹è§’çº¿
</span>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">col</span> <span class="o">&gt;=</span> <span class="n">i</span> <span class="ow">and</span> <span class="n">matrix</span><span class="p">[</span><span class="n">row</span> <span class="o">-</span> <span class="n">i</span><span class="p">][</span><span class="n">col</span> <span class="o">-</span> <span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">"Q"</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>

            <span class="k">return</span> <span class="bp">True</span>

        <span class="n">matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="s">"."</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="n">matrix</span><span class="p">):</span> <span class="c1"># æšä¸¾å½“å‰çš„è¡Œï¼Œç»“æœæ˜¯å­˜å‚¨å½“å‰çš„æ£‹ç›˜
</span>            <span class="c1"># select a Queen and check
</span>            <span class="c1"># print(cur)
</span>            <span class="c1"># print("\n".join([" ".join(x) for x in matrix]))
</span>            <span class="k">if</span> <span class="n">cur</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="p">[</span><span class="s">""</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">]</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">check</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">cur</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="n">matrix</span><span class="p">[</span><span class="n">cur</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Q"</span>
                <span class="n">dfs</span><span class="p">(</span><span class="n">cur</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">matrix</span><span class="p">)</span>
                <span class="n">matrix</span><span class="p">[</span><span class="n">cur</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="s">"."</span>

        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">matrix</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rst</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>  <span class="c1"># å¦ä¸€ç§ä»£ç é£æ ¼
</span>    <span class="k">def</span> <span class="nf">solveNQueens</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="n">matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="s">"."</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">isOK</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="c1"># -
</span>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">matrix</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">"Q"</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>
            <span class="c1"># |
</span>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="s">"Q"</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>
            <span class="c1"># \
</span>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">y</span> <span class="o">+</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">matrix</span><span class="p">[</span><span class="n">x</span> <span class="o">-</span> <span class="n">i</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">"Q"</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>
            <span class="c1"># /
</span>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">y</span> <span class="o">-</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">matrix</span><span class="p">[</span><span class="n">x</span> <span class="o">-</span> <span class="n">i</span><span class="p">][</span><span class="n">y</span> <span class="o">-</span> <span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">"Q"</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">row</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="p">[</span><span class="s">""</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">]</span>
                <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">isOK</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">):</span>
                    <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Q"</span>
                    <span class="n">dfs</span><span class="p">(</span><span class="n">row</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="s">"."</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<h3 id="æœ€é•¿æœ‰æ•ˆæ‹¬å·">æœ€é•¿æœ‰æ•ˆæ‹¬å·</h3>

<p><a href="https://leetcode-cn.com/problems/longest-valid-parentheses/">æœ€é•¿æœ‰æ•ˆæ‹¬å·</a></p>

<p>dpçš„ç»“æœï¼Œæœ‰ä¸€å®šçš„ç‰¹ç‚¹ï¼Œå®šä¹‰ä¸ºä»¥å³æ‹¬å·ä¸ºæœ€åä¸€ä¸ªå­—ç¬¦çš„è¿ç»­æœ‰å°æ‹¬å·é•¿åº¦</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestValidParentheses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">')'</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">'('</span><span class="p">:</span> <span class="c1"># .......()
</span>                    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
                <span class="k">elif</span> <span class="n">i</span> <span class="o">-</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">'('</span><span class="p">:</span> <span class="c1"># ........))
</span>                    <span class="k">if</span> <span class="n">i</span> <span class="o">-</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span> <span class="c1"># ........(....))
</span>                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span> <span class="c1">#  .(())
</span>            <span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

<h3 id="354-ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜"><a href="https://leetcode.cn/problems/russian-doll-envelopes/description/">354. ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜</a></h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">bisect</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxEnvelopes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">envelopes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">envelopes</span><span class="p">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="k">for</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">envelopes</span><span class="p">:</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">bisect</span><span class="p">.</span><span class="n">bisect_left</span><span class="p">(</span><span class="n">dp</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>  <span class="c1"># ä¸¤ä¸ªä¸ºåº¦æ’åºä¸é€‰æ‹©
</span>            <span class="n">dp</span><span class="p">[</span><span class="n">pos</span><span class="p">:</span><span class="n">pos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="k-ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨"><a href="https://leetcode-cn.com/problems/reverse-nodes-in-k-group/">K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨</a></h3>

<pre><code class="language-Python">from typing import List,Optional
class ListNode:
    def __init__(self, val=0, next=None):
     self.val = val
     self.next = next
class Solution:
    def reverseKGroup(self, head: Optional[ListNode], k: int) -&gt; Optional[ListNode]:

        def printList(root):
            while root:
                print(root.val, "-&gt;", end="")
                root = root.next
            print()

        def reverse(head, tail): # ç¿»è½¬çš„ä»£ç 
            pre = tail.next if tail else None # preæ˜¯ç»“å°¾çš„ä¸‹ä¸€ä¸ª
            cur = head # curæ˜¯å½“å‰çš„æ¯ä¸€ä¸ª
            while pre != tail:
                nxt = cur.next # å­˜å‚¨cur.next
                cur.next = pre # è½¬ç§»cur.nextæŒ‡é’ˆ

                pre = cur # åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
                cur = nxt # åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
            return tail, head

        # ç¾ä¸½çš„dummyå¸®åŠ©æˆ‘ä»¬æŠŠé—®é¢˜ç»“æ„åŒ–        
        dummy = ListNode()
        dummy.next = head

        pre = dummy # å‰ä¸€ä¸ªèŠ‚ç‚¹
        begin = head # éœ€è¦ç¿»è½¬çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
        end = head # éœ€è¦ç¿»è½¬çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹

        while begin:
            end = begin
            for i in range(k - 1): # ç§»åŠ¨åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹
                end = end.next
                if not end: # å¦‚æœä¸å¤Ÿé•¿ï¼Œç›´æ¥è¿”å›ç»“æœ
                    return dummy.next
            nxt = end.next # ç¼“å­˜nxt
            begin, end = reverse(begin, end)

            pre.next = begin # è¿æ¥å¤´
            end.next = nxt # è¿æ¥å°¾

            pre = end # ç§»åŠ¨
            begin = end.next # ç§»åŠ¨

        return dummy.next
</code></pre>

<h2 id="å‰‘æŒ‡-offer-ii-017-å«æœ‰æ‰€æœ‰å­—ç¬¦çš„æœ€çŸ­å­—ç¬¦ä¸²"><a href="https://leetcode.cn/problems/M1oyTv/">å‰‘æŒ‡ Offer II 017. å«æœ‰æ‰€æœ‰å­—ç¬¦çš„æœ€çŸ­å­—ç¬¦ä¸²</a></h2>

<p>æ»‘åŠ¨çª—å£+hashMap</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">collections</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">mt</span> <span class="o">=</span> <span class="n">collections</span><span class="p">.</span><span class="n">Counter</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="n">ms</span> <span class="o">=</span> <span class="n">collections</span><span class="p">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">ns</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">nt</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="s">""</span>

        <span class="k">def</span> <span class="nf">check</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">mt</span><span class="p">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ms</span> <span class="ow">or</span> <span class="n">ms</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">v</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>
            <span class="k">return</span> <span class="bp">True</span>

        <span class="k">while</span> <span class="n">right</span> <span class="o">&lt;</span> <span class="n">ns</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="ow">in</span> <span class="n">mt</span><span class="p">:</span>  <span class="c1"># æ‰©å¼ çª—å£
</span>                <span class="n">ms</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">right</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">while</span> <span class="n">check</span><span class="p">()</span> <span class="ow">and</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span>  <span class="c1"># æ”¶ç¼©çª—å£
</span>                <span class="n">ans</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">left</span> <span class="p">:</span> <span class="n">right</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">ans</span> <span class="ow">or</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span> <span class="k">else</span> <span class="n">ans</span>
                <span class="n">ms</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">left</span><span class="p">]]</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="n">left</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">right</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

<h2 id="æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢"><a href="https://leetcode.cn/problems/largest-rectangle-in-histogram/">æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</a></h2>

<p>å•è°ƒæ ˆ
æ‰¾åˆ°ï¼Œå·¦ä¾§æ¯”æˆ‘å°çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå³ä¾§æ¯”æˆ‘å°çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">largestRectangleArea</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">heights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">heights</span><span class="p">)</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">left</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span>
        <span class="n">right</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">heights</span><span class="p">):</span> <span class="c1"># å•è°ƒé€’å¢æ ˆ
</span>            <span class="k">while</span> <span class="n">stack</span> <span class="ow">and</span> <span class="n">heights</span><span class="p">[</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="n">h</span><span class="p">:</span>
                <span class="n">right</span><span class="p">[</span><span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()]</span> <span class="o">=</span> <span class="n">i</span>           <span class="c1"># å¼¹å‡ºçš„å…ƒç´ éƒ½å°äºè‡ªå·±ï¼Œæ„å»ºright
</span>            <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">stack</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span> <span class="c1"># æ ˆé¡¶å·¦ä¾§å°äºhçš„ç¬¬ä¸€ä¸ªå…ƒç´ , æ„å»ºleft
</span>            <span class="n">stack</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

        <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
    
        <span class="c1"># å•ç‹¬æ„å»ºright,ä¹Ÿæ˜¯å¯ä»¥çš„
</span>        <span class="c1"># for i in range(n - 1, -1, -1): # å•è°ƒé€’å¢æ ˆï¼Œä»å³ä¾§å¼€å§‹å…¥æ ˆ
</span>        <span class="c1">#     while stack and heights[stack[-1]] &gt;= heights[i]:
</span>        <span class="c1">#         stack.pop()
</span>        <span class="c1">#     right[i] = stack[-1] if stack else n # æ ˆé¡¶ä¸ºå³ä¾§å°äºhçš„ç¬¬ä¸€ä¸ªå…ƒç´ 
</span>        <span class="c1">#     stack.append(i)
</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">((</span><span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">heights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="k">if</span> <span class="n">n</span> <span class="k">else</span> <span class="mi">0</span>

        <span class="k">return</span> <span class="n">ans</span>

        <span class="c1"># # æŒ‰ç…§é«˜åº¦è¿›è¡Œæšä¸¾ï¼Œ è¶…æ—¶
</span>        <span class="c1"># n = len(heights)
</span>        <span class="c1"># ans = heights[0]
</span>        <span class="c1"># for i in range(n):
</span>        <span class="c1">#     left = i
</span>        <span class="c1">#     right = i
</span>        <span class="c1">#     height = heights[i]
</span>        <span class="c1">#     while left - 1 &gt;= 0 and height &lt;= heights[left - 1]:
</span>        <span class="c1">#         left -= 1
</span>        <span class="c1">#     while right + 1 &lt; n and height &lt;= heights[right + 1]:
</span>        <span class="c1">#         right += 1
</span>        <span class="c1">#     ans = max(ans, height * (right - left + 1))
</span>        <span class="c1">#     # print(i, ans, left, right)
</span>        <span class="c1"># return ans
</span>

        <span class="c1"># æšä¸¾ï¼Œ å®½åº¦ï¼Œå¯»æ‰¾æœ€å°é«˜åº¦ O(n^2)
</span>        <span class="c1"># è¿™è¾¹æœ‰ä¸ªæŠ€å·§
</span>        <span class="c1"># æšä¸¾left, right, åŒºé—´ä»æœ€å°åˆ°æœ€å¤§ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­é€šè¿‡rightçš„æšä¸¾ï¼Œä¸€å¹¶å¯»æ‰¾æœ€å°é«˜åº¦
</span>        <span class="c1"># n = len(heights)
</span>        <span class="c1"># ans = 0
</span>        <span class="c1"># for left in range(n):
</span>        <span class="c1">#     minh = float("inf")
</span>        <span class="c1">#     for right in range(left, n):
</span>        <span class="c1">#         minh = min(minh, heights[right])
</span>        <span class="c1">#         ans = max(ans, (right - left + 1) * minh)
</span>
        <span class="c1"># return ans
</span></code></pre></div></div>

<h2 id="æœ€å¤§çŸ©å½¢"><a href="https://leetcode.cn/problems/maximal-rectangle/">æœ€å¤§çŸ©å½¢</a></h2>

<p>å•è°ƒæ ˆ, é¢„å¤„ç†æˆé«˜åº¦ï¼Œæ‰¾çŸ©å½¢</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maximalRectangle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">left</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">m</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="s">"1"</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="c1"># åˆ—éå†, å¯¹æ¯ä¸€åˆ—ï¼Œ left[j]ä¸ºé«˜åº¦
</span>        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
            <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">lmin</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span>
            <span class="n">rmin</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="k">while</span> <span class="n">stack</span> <span class="ow">and</span> <span class="n">left</span><span class="p">[</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]][</span><span class="n">j</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>
                    <span class="n">rmin</span><span class="p">[</span><span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()]</span> <span class="o">=</span> <span class="n">i</span>
                <span class="n">lmin</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">stack</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
                <span class="n">stack</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">heights</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="n">rmin</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">lmin</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>

            <span class="n">tmp</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">heights</span><span class="p">)</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">tmp</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/hua-dong-chuang-kou-de-zui-da-zhi-lcof">å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxSlidingWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">max_queue</span> <span class="o">=</span> <span class="n">collections</span><span class="p">.</span><span class="n">deque</span><span class="p">()</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
            <span class="k">while</span> <span class="n">max_queue</span> <span class="ow">and</span> <span class="n">max_queue</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">max_queue</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">max_queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">max_queue</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
            <span class="c1"># pop
</span>            <span class="k">if</span> <span class="n">max_queue</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="n">max_queue</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">max_queue</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>
            <span class="c1"># append
</span>            <span class="k">while</span> <span class="n">max_queue</span> <span class="ow">and</span> <span class="n">max_queue</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">max_queue</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">max_queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">rst</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">max_queue</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">rst</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/pile-box-lcci/description/">é¢è¯•é¢˜ 08.13. å †ç®±å­</a></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">pileBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># ä»¥ç¬¬iä¸ªç®±å­ä¸ºç»“å°¾çš„ä¸Šå‡å­åºåˆ—çš„æœ€å¤§æ€»é«˜åº¦
</span>
        <span class="n">box</span><span class="p">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">box</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># ç¬¬ä¸€å †çš„æœ€å¤§é«˜åº¦
</span>        <span class="n">ans</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
            <span class="n">maxh</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># 
</span>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">):</span> <span class="c1"># çœ‹çœ‹èƒ½ä¸èƒ½å¾€ä¸Šå †
</span>                <span class="k">if</span> <span class="n">box</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">box</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> \
                   <span class="n">box</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">box</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> \
                   <span class="n">box</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">box</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">2</span><span class="p">]:</span>
                    <span class="n">maxh</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">maxh</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span> <span class="c1"># if not avaliable, maxh = 0, dp[i] should be box[i][2]
</span>            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxh</span> <span class="o">+</span> <span class="n">box</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># ä»¥å½“å‰å †ä¸ºç»“å°¾çš„æœ€å¤§é«˜åº¦
</span>            <span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

<p><a href="https://leetcode.cn/problems/find-median-from-data-stream/">295. æ•°æ®æµçš„ä¸­ä½æ•°</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">heapq</span>
<span class="k">class</span> <span class="nc">MedianFinder</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">queMin</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">queMax</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">addNum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">queMin_</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">queMin</span>
        <span class="n">queMax_</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">queMax</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">queMin_</span> <span class="ow">or</span> <span class="n">num</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="n">queMin_</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">heapq</span><span class="p">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">queMin_</span><span class="p">,</span> <span class="o">-</span><span class="n">num</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">queMax_</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">queMin_</span><span class="p">):</span>
                <span class="n">heapq</span><span class="p">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">queMax_</span><span class="p">,</span> <span class="o">-</span><span class="n">heapq</span><span class="p">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">queMin_</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">heapq</span><span class="p">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">queMax_</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">queMax_</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">queMin_</span><span class="p">):</span>
                <span class="n">heapq</span><span class="p">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">queMin_</span><span class="p">,</span> <span class="o">-</span><span class="n">heapq</span><span class="p">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">queMax_</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">findMedian</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">queMin_</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">queMin</span>
        <span class="n">queMax_</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">queMax</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">queMin_</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">queMax_</span><span class="p">):</span>
            <span class="k">return</span> <span class="o">-</span><span class="n">queMin_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="n">queMin_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">queMax_</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span>
</code></pre></div></div>
<p><a href="https://leetcode.cn/problems/shu-zu-zhong-de-ni-xu-dui-lcof/">å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>
<p><a href="https://leetcode.cn/problems/lru-cache-lcci/">é¢è¯•é¢˜ 16.25. LRU ç¼“å­˜</a></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">BiNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">k</span> <span class="o">=</span> <span class="n">k</span> 
        <span class="bp">self</span><span class="p">.</span><span class="n">v</span> <span class="o">=</span> <span class="n">v</span> 
        <span class="bp">self</span><span class="p">.</span><span class="n">prev</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="bp">None</span>
<span class="k">class</span> <span class="nc">LRUCache</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capacity</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">head</span> <span class="o">=</span> <span class="n">BiNode</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">tail</span> <span class="o">=</span> <span class="n">BiNode</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">cap</span> <span class="o">=</span> <span class="n">capacity</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">head</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">tail</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">tail</span><span class="p">.</span><span class="n">prev</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">head</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">m</span><span class="p">:</span>
            <span class="n">head</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">head</span>
            <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">m</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="n">node</span><span class="p">.</span><span class="n">prev</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">node</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">prev</span>

            <span class="n">node</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">node</span><span class="p">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">head</span>
            <span class="n">head</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">node</span>
            <span class="n">head</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">node</span>

            <span class="k">return</span> <span class="n">node</span><span class="p">.</span><span class="n">v</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">m</span><span class="p">:</span>  <span class="c1"># å¦‚æœå·²ç»æœ‰ï¼Œæ›´æ–°value, ç§»åŠ¨åˆ°é˜Ÿå°¾
</span>            <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">m</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="n">node</span><span class="p">.</span><span class="n">prev</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="nb">next</span> <span class="c1"># æ–°èŠ‚ç‚¹è¿æ¥ä¸Š
</span>            <span class="n">node</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">prev</span>

            <span class="n">head</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">head</span>
            <span class="n">node</span><span class="p">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">head</span>  <span class="c1"># å¤´èŠ‚ç‚¹æ›´æ–°
</span>            <span class="n">node</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">head</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">node</span> <span class="c1"># nextèŠ‚ç‚¹æ›´æ–°
</span>            <span class="n">head</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">node</span>

            <span class="n">node</span><span class="p">.</span><span class="n">v</span> <span class="o">=</span> <span class="n">value</span> <span class="c1"># åªæ›´æ–°å€¼ï¼Œä¸æ›´æ–°cnt
</span>        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="p">.</span><span class="n">cap</span><span class="p">:</span> <span class="c1"># è¶…è¿‡äº†ï¼Œåˆ é™¤
</span>                <span class="n">tail</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">tail</span>
                <span class="n">d</span> <span class="o">=</span> <span class="n">tail</span><span class="p">.</span><span class="n">prev</span>
                <span class="n">d</span><span class="p">.</span><span class="n">prev</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">d</span><span class="p">.</span><span class="nb">next</span>
                <span class="n">d</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">d</span><span class="p">.</span><span class="n">prev</span>
                <span class="k">del</span> <span class="bp">self</span><span class="p">.</span><span class="n">m</span><span class="p">[</span><span class="n">d</span><span class="p">.</span><span class="n">k</span><span class="p">]</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">cnt</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">BiNode</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="n">head</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">head</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">m</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
            <span class="n">node</span><span class="p">.</span><span class="n">prev</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">head</span>
            <span class="n">node</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">head</span><span class="p">.</span><span class="nb">next</span>
            
            <span class="bp">self</span><span class="p">.</span><span class="n">head</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">head</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></div>

<h3 id="é¢è¯•é—®ç­”">é¢è¯•é—®ç­”</h3>

<ol>
  <li><a href="https://github.com/ChenYilong/iOSInterviewQuestions">https://github.com/ChenYilong/iOSInterviewQuestions</a></li>
  <li><a href="https://github.com/limboy/iOS-Developer-Interview-Questions">https://github.com/limboy/iOS-Developer-Interview-Questions</a></li>
  <li><a href="https://draveness.me/guan-yu-xie-ios-wen-ti-de-jie-da/">https://draveness.me/guan-yu-xie-ios-wen-ti-de-jie-da/</a></li>
</ol>

<h3 id="è®¡ç®—æœºç½‘ç»œ">è®¡ç®—æœºç½‘ç»œ</h3>
<ul>
  <li>
    <p>OSI</p>

    <p>ç‰©ç†å±‚ã€é“¾è·¯å±‚ã€ç½‘ç»œå±‚ã€ä¼ è¾“å±‚ã€ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚ã€åº”ç”¨å±‚</p>
  </li>
  <li>
    <p>TCP/IP</p>

    <p>ç‰©ç†é“¾è·¯å±‚(ç½‘ç»œæ¥å£å±‚)ã€ç½‘<strong>é™…</strong>å±‚ã€ä¼ è¾“å±‚ã€åº”ç”¨å±‚</p>

    <p>UDP å’Œ TCP çš„ç‰¹ç‚¹ \</p>
    <ul>
      <li>
        <p>ç”¨æˆ·æ•°æ®æŠ¥åè®® UDPï¼ˆUser Datagram Protocolï¼‰æ˜¯æ— è¿æ¥çš„ï¼Œå°½æœ€å¤§å¯èƒ½äº¤ä»˜ï¼Œæ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œé¢å‘æŠ¥æ–‡ï¼ˆå¯¹äºåº”ç”¨ç¨‹åºä¼ ä¸‹æ¥çš„æŠ¥æ–‡ä¸åˆå¹¶ä¹Ÿä¸æ‹†åˆ†ï¼Œåªæ˜¯æ·»åŠ  UDP é¦–éƒ¨ï¼‰ï¼Œæ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡ã€‚</p>
      </li>
      <li>
        <p>ä¼ è¾“æ§åˆ¶åè®® TCPï¼ˆTransmission Control Protocolï¼‰æ˜¯é¢å‘è¿æ¥çš„ï¼Œæä¾›å¯é äº¤ä»˜ï¼Œæœ‰æµé‡æ§åˆ¶ï¼Œæ‹¥å¡æ§åˆ¶ï¼Œæä¾›å…¨åŒå·¥é€šä¿¡ï¼Œé¢å‘å­—èŠ‚æµï¼ˆæŠŠåº”ç”¨å±‚ä¼ ä¸‹æ¥çš„æŠ¥æ–‡çœ‹æˆå­—èŠ‚æµï¼ŒæŠŠå­—èŠ‚æµç»„ç»‡æˆå¤§å°ä¸ç­‰çš„æ•°æ®å—ï¼‰ï¼Œæ¯ä¸€æ¡ TCP è¿æ¥åªèƒ½æ˜¯ç‚¹å¯¹ç‚¹çš„ï¼ˆä¸€å¯¹ä¸€ï¼‰ã€‚\</p>
      </li>
    </ul>
  </li>
</ul>

<p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/e92d0ebc-7d46-413b-aec1-34a39602f787.png" alt="" /></p>

<p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/f87afe72-c2df-4c12-ac03-9b8d581a8af8.jpg" alt="" /></p>

<ul>
  <li><strong>ä¸‰æ¬¡æ¡æ‰‹</strong>: ACKè¡¨ç¤ºackæœ‰æ•ˆï¼Œ SYNè¡¨ç¤ºè¯·æ±‚è¿æ¥ï¼ŒFINè¡¨ç¤ºåœæ­¢
    <ol>
      <li>SYN = 1, ACK = 0, seq = x</li>
      <li>SYN = 1, ACK = 1, seq = y,     ack = x + 1</li>
      <li>__ __ _, ACK = 1, seq = x + 1, ack = y + 1</li>
    </ol>
  </li>
  <li><strong>å››æ¬¡æŒ¥æ‰‹</strong>:
    <ol>
      <li>ACK = 1, FIN = 1, seq = u</li>
      <li>ACK = 1, __ __ _, seq = v, ack = u + 1</li>
      <li>ACK = 1, FIN = 1, seq = w, ack = u + 1</li>
      <li>ACK = 1, __ __ _, seq = u + 1, ack = w + 1</li>
    </ol>
  </li>
</ul>

<p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/910f613f-514f-4534-87dd-9b4699d59d31.png" alt="" /></p>

<ul>
  <li>
    <p>https / TLS</p>

    <p>HTTPS å³ HTTP over TLSï¼Œæ˜¯ä¸€ç§åœ¨åŠ å¯†ä¿¡é“è¿›è¡Œ HTTP å†…å®¹ä¼ è¾“çš„åè®®ã€‚Transport Layer Security</p>

    <p>TLS çš„å®Œæ•´è¿‡ç¨‹éœ€è¦ä¸‰ä¸ªç®—æ³•ï¼ˆåè®®ï¼‰ï¼Œå¯†é’¥äº¤äº’ç®—æ³•ï¼Œå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œå’Œæ¶ˆæ¯è®¤è¯ç®—æ³•
ï¼ˆTLS çš„ä¼ è¾“ä¼šä½¿ç”¨ MAC(message authentication code) è¿›è¡Œå®Œæ•´æ€§æ£€æŸ¥ï¼‰ã€‚</p>
  </li>
  <li>
    <p>SSLå‰¥ç¦»: é€šè¿‡æ”»å‡» DNS å“åº”ï¼Œæ”»å‡»è€…å¯ä»¥å°†è‡ªå·±å˜æˆä¸­é—´äººã€‚https â€“&gt; http</p>
  </li>
  <li>
    <p>HSTS: <strong>å¼ºåˆ¶ä½¿ç”¨ HTTPS è¿›è¡Œè®¿é—®</strong>,åœ¨æœåŠ¡å™¨è¿”å›çš„å“åº”ä¸­ï¼ŒåŠ ä¸Šä¸€ä¸ªç‰¹æ®Šçš„å¤´éƒ¨ï¼ŒæŒ‡ç¤ºæµè§ˆå™¨å¯¹äºæ­¤ç½‘ç«™
      TTP Strict Transport Security</p>
  </li>
  <li>
    <p>ä¼ªé€ è¯ä¹¦æ”»å‡»:</p>

    <p>ç¬¬ä¸€æ­¥æ˜¯éœ€è¦æ”»å‡» DNS æœåŠ¡å™¨ã€‚
  ç¬¬äºŒæ­¥æ˜¯æ”»å‡»è€…è‡ªå·±çš„è¯ä¹¦éœ€è¦è¢«ç”¨æˆ·ä¿¡ä»»ï¼Œè¿™ä¸€æ­¥å¯¹äºç”¨æˆ·æ¥è¯´æ˜¯å¾ˆéš¾æ§åˆ¶çš„ï¼Œ
  éœ€è¦è¯ä¹¦é¢å‘æœºæ„èƒ½å¤Ÿæ§åˆ¶è‡ªå·±ä¸æ»¥å‘è¯ä¹¦ã€‚</p>
  </li>
  <li>
    <p>HPKP æŠ€æœ¯æ˜¯ä¸ºäº†è§£å†³ä¼ªé€ è¯ä¹¦æ”»å‡»è€Œè¯ç”Ÿçš„ã€‚Public Key Pinning Extension for HTTPï¼‰åœ¨ HSTS ä¸Šæ›´è¿›ä¸€æ­¥ï¼Œ
HPKP ç›´æ¥åœ¨è¿”å›å¤´ä¸­å­˜å‚¨æœåŠ¡å™¨çš„å…¬é’¥æŒ‡çº¹ä¿¡æ¯ï¼Œä¸€æ—¦å‘ç°æŒ‡çº¹å’Œå®é™…æ¥å—åˆ°çš„å…¬é’¥æœ‰å·®å¼‚ï¼Œæµè§ˆå™¨å°±å¯ä»¥è®¤ä¸ºæ­£åœ¨è¢«æ”»å‡»</p>
  </li>
  <li>
    <p>æ–­ç‚¹ç»­ä¼ 
  1.æ–­ç‚¹ç»­ä¼ éœ€è¦åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­è®°å½•æ¯æ¡çº¿ç¨‹çš„ä¸‹è½½è¿›åº¦ï¼›
  2.æ¯æ¬¡ä¸‹è½½å¼€å§‹ä¹‹å‰å…ˆè¯»å–æ•°æ®åº“ï¼ŒæŸ¥è¯¢æ˜¯å¦æœ‰æœªå®Œæˆçš„è®°å½•ï¼Œæœ‰å°±ç»§ç»­ä¸‹è½½ï¼Œæ²¡æœ‰åˆ™åˆ›å»ºæ–°è®°å½•æ’å…¥æ•°æ®åº“ï¼›
  3.åœ¨æ¯æ¬¡å‘æ–‡ä»¶ä¸­å†™å…¥æ•°æ®ä¹‹åï¼Œåœ¨æ•°æ®åº“ä¸­æ›´æ–°ä¸‹è½½è¿›åº¦ï¼›
  4.ä¸‹è½½å®Œæˆä¹‹ååˆ é™¤æ•°æ®åº“ä¸­ä¸‹è½½è®°å½•ã€‚</p>

    <p>åˆ†ç‰‡ä¸Šä¼ :
  åˆ†ç‰‡ä¸Šä¼ ï¼Œå°±æ˜¯å°†æ‰€è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼ŒæŒ‰ç…§ä¸€å®šçš„å¤§å°ï¼Œå°†æ•´ä¸ªæ–‡ä»¶åˆ†éš”æˆå¤šä¸ªæ•°æ®å—ï¼ˆPartï¼‰æ¥è¿›è¡Œåˆ†ç‰‡ä¸Šä¼ </p>
  </li>
  <li>
    <p>å¤šè·¯io</p>

    <ul>
      <li>select 
  å®ç°å¤šè·¯å¤ç”¨çš„æ–¹å¼æ˜¯ï¼Œå°†å·²è¿æ¥çš„ Socket éƒ½æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦é›†åˆï¼Œ
  ç„¶åè°ƒç”¨ select å‡½æ•°å°†æ–‡ä»¶æè¿°ç¬¦é›†åˆæ‹·è´åˆ°å†…æ ¸é‡Œï¼Œ
  è®©å†…æ ¸æ¥æ£€æŸ¥æ˜¯å¦æœ‰ç½‘ç»œäº‹ä»¶äº§ç”Ÿï¼Œæ£€æŸ¥çš„æ–¹å¼å¾ˆç²—æš´ï¼Œå°±æ˜¯é€šè¿‡éå†æ–‡ä»¶æè¿°ç¬¦é›†åˆçš„æ–¹å¼ï¼Œ
  å½“æ£€æŸ¥åˆ°æœ‰äº‹ä»¶äº§ç”Ÿåï¼Œå°†æ­¤ Socket æ ‡è®°ä¸ºå¯è¯»æˆ–å¯å†™ï¼Œ 
  æ¥ç€å†æŠŠæ•´ä¸ªæ–‡ä»¶æè¿°ç¬¦é›†åˆæ‹·è´å›ç”¨æˆ·æ€é‡Œï¼Œç„¶åç”¨æˆ·æ€è¿˜éœ€è¦å†é€šè¿‡éå†çš„æ–¹æ³•æ‰¾åˆ°å¯è¯»æˆ–å¯å†™çš„ Socketï¼Œç„¶åå†å¯¹å…¶å¤„ç†ã€‚
  select ä½¿ç”¨å›ºå®šé•¿åº¦çš„ BitsMapï¼Œè¡¨ç¤ºæ–‡ä»¶æè¿°ç¬¦é›†åˆï¼Œè€Œä¸”æ‰€æ”¯æŒçš„æ–‡ä»¶æè¿°ç¬¦çš„ä¸ªæ•°æ˜¯æœ‰é™åˆ¶çš„ï¼Œ
  åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œç”±å†…æ ¸ä¸­çš„ FD_SETSIZE é™åˆ¶ï¼Œ é»˜è®¤æœ€å¤§å€¼ä¸º 1024ï¼Œåªèƒ½ç›‘å¬ 0~1023 çš„æ–‡ä»¶æè¿°ç¬¦ã€‚
  â€”</li>
      <li>
        <p>poll</p>

        <p>ä¸å†ç”¨ BitsMap æ¥å­˜å‚¨æ‰€å…³æ³¨çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå–è€Œä»£ä¹‹ç”¨åŠ¨æ€æ•°ç»„ï¼Œ
  ä»¥é“¾è¡¨å½¢å¼æ¥ç»„ç»‡ï¼Œçªç ´äº† select çš„æ–‡ä»¶æè¿°ç¬¦ä¸ªæ•°é™åˆ¶ï¼Œå½“ç„¶è¿˜ä¼šå—åˆ°ç³»ç»Ÿæ–‡ä»¶æè¿°ç¬¦é™åˆ¶ã€‚
  â€“</p>
      </li>
      <li>
        <p>epoll</p>

        <p>ç¬¬ä¸€ç‚¹ï¼Œepoll åœ¨å†…æ ¸é‡Œä½¿ç”¨çº¢é»‘æ ‘æ¥è·Ÿè¸ªè¿›ç¨‹æ‰€æœ‰å¾…æ£€æµ‹çš„æ–‡ä»¶æè¿°å­—
  ç¬¬äºŒç‚¹ï¼Œepoll ä½¿ç”¨äº‹ä»¶é©±åŠ¨çš„æœºåˆ¶ï¼Œå†…æ ¸é‡Œç»´æŠ¤äº†ä¸€ä¸ªé“¾è¡¨æ¥è®°å½•å°±ç»ªäº‹ä»¶ï¼Œ
      å½“æŸä¸ª socket æœ‰äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œé€šè¿‡å›è°ƒå‡½æ•°å†…æ ¸ä¼šå°†å…¶åŠ å…¥åˆ°è¿™ä¸ªå°±ç»ªäº‹ä»¶åˆ—è¡¨ä¸­</p>
      </li>
    </ul>
  </li>
  <li>
    <p>rpc: RPCï¼ˆRemote Procedure Callï¼‰ï¼Œ</p>

    <p>åˆå«åšè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ã€‚å®ƒæœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„åè®®ï¼Œè€Œæ˜¯ä¸€ç§è°ƒç”¨æ–¹å¼ã€‚<br />
  å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶å¤§éƒ¨åˆ† RPC åè®®åº•å±‚ä½¿ç”¨ TCPï¼Œä½†å®é™…ä¸Šå®ƒä»¬ä¸ä¸€å®šéå¾—ä½¿ç”¨ TCPï¼Œæ”¹ç”¨ UDP æˆ–è€… HTTPï¼Œå…¶å®ä¹Ÿå¯ä»¥åšåˆ°ç±»ä¼¼çš„åŠŸèƒ½ã€‚<br />
  RPC å°±å¼€å§‹é€€å±…å¹•åï¼Œä¸€èˆ¬ç”¨äºå…¬å¸å†…éƒ¨é›†ç¾¤é‡Œï¼Œå„ä¸ªå¾®æœåŠ¡ä¹‹é—´çš„é€šè®¯ã€‚<br />
  RPCï¼Œå› ä¸ºå®ƒå®šåˆ¶åŒ–ç¨‹åº¦æ›´é«˜ï¼Œå¯ä»¥é‡‡ç”¨ä½“ç§¯æ›´å°çš„ Protobuf æˆ–å…¶ä»–åºåˆ—åŒ–åè®®å»ä¿å­˜ç»“æ„ä½“æ•°æ®</p>
  </li>
  <li>
    <p>websocket
  æ¸¸æˆåœºæ™¯é•¿è¿æ¥ï¼Œ</p>
  </li>
</ul>

<h3 id="ios-çŸ¥è¯†ç‚¹">iOS çŸ¥è¯†ç‚¹</h3>
<ul>
  <li>å•ä¾‹</li>
</ul>

<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">+</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="n">sharedInstance</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="n">dispatch_once_t</span> <span class="n">once</span><span class="p">;</span>
    <span class="k">static</span> <span class="n">id</span> <span class="n">sharedInstance</span><span class="p">;</span>

    <span class="n">dispatch_once</span><span class="p">(</span><span class="o">&amp;</span><span class="n">once</span><span class="p">,</span> <span class="o">^</span>
    <span class="p">{</span>
        <span class="n">sharedInstance</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span> <span class="nf">new</span><span class="p">];</span>
    <span class="p">});</span>    
    <span class="k">return</span> <span class="n">sharedInstance</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>OC Runtime, åƒåœ¾å›æ”¶</li>
  <li>
    <p>KVO &amp; KVC: https://objccn.io/issue-7-3/</p>
  </li>
  <li>
    <p>Apple FrameWorks</p>

    <ul>
      <li>
        <p>Framework <br />
  Framework å¯ä»¥é€šä¿—çš„ç†è§£ä¸ºå°è£…äº†å…±äº«èµ„æºçš„å…·æœ‰å±‚æ¬¡ç»“æ„çš„æ–‡ä»¶å¤¹ã€‚
  å…±äº«èµ„æºå¯ä»¥æ˜¯ nibæ–‡ä»¶ã€å›½é™…åŒ–å­—ç¬¦ä¸²æ–‡ä»¶ã€å¤´æ–‡ä»¶ã€åº“æ–‡ä»¶ç­‰ç­‰ã€‚
  å®ƒåŒæ—¶ä¹Ÿæ˜¯ä¸ª Bundleï¼Œé‡Œé¢çš„å†…å®¹å¯ä»¥é€šè¿‡ Bundle ç›¸å…³ API æ¥è®¿é—®ã€‚
  Framework å¯ä»¥æ˜¯ static framework æˆ– dynamic frameworkã€‚
  åœ¨ iOS App æ‰“åŒ…å®Œæˆåï¼Œå¦‚æœ Framework åŒ…å«äº†æ¨¡æ‹Ÿå™¨æŒ‡ä»¤é›†(x86_64 æˆ– i386)ï¼Œ
  é‚£ä¹ˆç”¨ Xcode å‘å¸ƒ App çš„æ—¶å€™ï¼Œä¼šæŠ¥ unsupported architectures çš„é”™è¯¯ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æˆ–è„šæœ¬å»ç§»é™¤ã€‚</p>
      </li>
      <li>
        <p>XCFramework <br />
  XCFrameworkæ˜¯ä¸ºäº†å–ä»£ä¹‹å‰çš„.frameworkçš„
  XCFramework æ˜¯ç”± Xcode åˆ›å»ºçš„ä¸€ä¸ªå¯åˆ†å‘çš„äºŒè¿›åˆ¶åŒ…ï¼Œå®ƒåŒ…å«äº† framework æˆ– library çš„ä¸€ä¸ªæˆ–å¤šä¸ªå˜ä½“ï¼Œ
  å› æ­¤å¯ä»¥åœ¨å¤šä¸ªå¹³å°(iOSã€macOSã€tvOSã€watchOS) ä¸Šä½¿ç”¨ï¼ŒåŒ…æ‹¬æ¨¡æ‹Ÿå™¨ã€‚
  XCFramework å¯ä»¥æ˜¯é™æ€çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€çš„ã€‚xcframework çš„å¥½å¤„å°±æ˜¯ç”¨ Xcode å‘å¸ƒçš„æ—¶å€™ï¼Œ
  Xcode ä¼šè‡ªåŠ¨é€‰ç”¨æ­£ç¡®çš„æŒ‡ä»¤é›† Frameworksï¼Œçœå»äº†æ‰‹åŠ¨ç§»é™¤åŠ¨æ€åº“ä¸­çš„æ¨¡æ‹Ÿå™¨æŒ‡ä»¤é›†çš„å·¥ä½œã€‚
  ä¸è¿‡å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒXcode 11 æ‰å¼•å…¥ XCFramework ã€‚</p>
      </li>
    </ul>
  </li>
  <li><a href="http://blog.sunnyxx.com/2014/10/15/behind-autorelease/">AutoReleasePool</a></li>
</ul>

<ol>
  <li>+load() æ–¹æ³•çš„è°ƒç”¨æ˜¯åœ¨ main() å‡½æ•°ä¹‹å‰ï¼Œå¹¶ä¸”ä¸éœ€è¦ä¸»åŠ¨è°ƒç”¨ï¼Œ
  ç¨‹åºå¯åŠ¨ä¼šæŠŠæ‰€æœ‰çš„æ–‡ä»¶åŠ è½½ï¼Œæ–‡ä»¶å¦‚æœé‡å†™äº† +load() æ–¹æ³•ï¼Œä¸»ç±»ã€å­ç±»ã€åˆ†ç±»éƒ½ä¼šåŠ è½½è°ƒç”¨ +load() æ–¹æ³•ï¼›</li>
  <li>ä¸»ç±»ä¸åˆ†ç±»çš„åŠ è½½é¡ºåºæ˜¯: ä¸»ç±»ä¼˜å…ˆäºåˆ†ç±»åŠ è½½ï¼Œæ— å…³ç¼–è¯‘é¡ºåºï¼›</li>
  <li>åˆ†ç±»é—´çš„åŠ è½½é¡ºåºå–å†³äºç¼–è¯‘çš„é¡ºåº: å…ˆç¼–è¯‘å…ˆåŠ è½½ï¼Œåç¼–è¯‘åˆ™ååŠ è½½ï¼›</li>
  <li>ä¼˜å…ˆé¡ºåºï¼š (çˆ¶ç±» &gt; å­ç±» &gt; åˆ†ç±»)ï¼›</li>
  <li>å› ä¸º +load() æ˜¯åœ¨ main() å‡½æ•°ä¹‹å‰è°ƒç”¨ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢ä¸è¦ä½œè€—æ—¶æ“ä½œæˆ–è€…é˜»å¡çš„æ“ä½œï¼Œä¼šå½±å“å¯åŠ¨é€Ÿåº¦ï¼›</li>
  <li>ä¸è¦åšå¯¹è±¡çš„åˆå§‹åŒ–æ“ä½œï¼Œå› ä¸ºåœ¨ main() å‡½æ•°ä¹‹å‰è‡ªåŠ¨è°ƒç”¨ï¼Œ</li>
  <li>+load() æ–¹æ³•è°ƒç”¨çš„æ—¶å€™ä½¿ç”¨è€…æ ¹æœ¬å°±ä¸èƒ½ç¡®å®šè‡ªå·±è¦ä½¿ç”¨çš„å¯¹è±¡æ˜¯å¦å·²ç»åŠ è½½è¿›æ¥äº†ï¼Œæ‰€ä»¥åƒä¸‡ä¸èƒ½åœ¨è¿™é‡Œåˆå§‹åŒ–å¯¹è±¡ï¼›
  å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œåœ¨ +load() æ–¹æ³•ä¸­è¿›è¡Œ Method Swizzle æ“ä½œï¼Œäº¤æ¢æ–¹æ³•ã€‚</li>
</ol>

<hr />

<ol>
  <li>çˆ¶ç±»çš„ + initialize() æ–¹æ³•ä¼šæ¯”å­ç±»å…ˆæ‰§è¡Œï¼›</li>
  <li>å½“å­ç±»æœªå®ç° + initialize()  æ–¹æ³•æ—¶ï¼Œä¼šè°ƒç”¨çˆ¶ç±» + initialize()  æ–¹æ³•ï¼Œ
  å­ç±»å®ç° + initialize() æ–¹æ³•æ—¶ï¼Œä¼šè¦†ç›–çˆ¶ç±» + initialize()  æ–¹æ³•ï¼›</li>
  <li>å½“æœ‰å¤šä¸ª Category éƒ½å®ç°äº† + initialize()  æ–¹æ³•ï¼Œä¼šè¦†ç›–ç±»ä¸­çš„æ–¹æ³•ï¼Œ
  åªæ‰§è¡Œä¸€ä¸ª(ä¼šæ‰§è¡ŒCompile Sources åˆ—è¡¨ä¸­æœ€åä¸€ä¸ª Category çš„ + initialize() æ–¹æ³•)ã€‚</li>
</ol>

<hr />

<ol>
  <li>+load() å’Œ +initialize() éƒ½ä¼šåœ¨å®ä¾‹åŒ–å¯¹è±¡ä¹‹å‰è°ƒç”¨ï¼Œå‰è€…æ˜¯åœ¨ main() å‡½æ•°ä¹‹å‰ï¼Œåè€…æ˜¯åœ¨ main() å‡½æ•°ä¹‹åï¼›</li>
  <li>+load() å’Œ +initialize() æ–¹æ³•éƒ½ä¸ä¼šæ˜¾å¼çš„è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•è€Œæ˜¯è‡ªåŠ¨è°ƒç”¨ï¼Œ
  å³ä½¿å­ç±»æ²¡æœ‰ +initialize() æ–¹æ³•ä¹Ÿä¼šè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œ+load() æ–¹æ³•ä¸ä¼šè°ƒç”¨çˆ¶ç±»ï¼›</li>
  <li>+load() å’Œ +initialize() æ–¹æ³•å†…éƒ¨ä½¿ç”¨äº†é”ï¼Œå› æ­¤ä»–ä»¬æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå®ç°æ—¶è¦å°½å¯èƒ½ç®€å•ï¼Œé¿å…çº¿ç¨‹é˜»å¡ï¼Œä¸è¦å†æ¬¡ä½¿ç”¨é”ï¼›</li>
  <li>+load() æ–¹æ³•å¸¸ç”¨æ¥ method swizzleï¼Œ+initialize() å¸¸å¸¸ç”¨äºåˆå§‹åŒ–å…¨å±€å˜é‡å’Œé™æ€å˜é‡ã€‚</li>
</ol>

<hr />

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@implementation SubPerson
-(void)test{
    NSLog(@"%@",[self class]); // SubPerson
    NSLog(@"%@",[self superclass]); // Person
    NSLog(@"%@",[super class]); // SubPerson
    NSLog(@"%@",[super superclass]); //Person
}
</code></pre></div></div>

<h2 id="other-reference">Other Reference</h2>

<ul>
  <li>
    <p><a href="https://github.com/ninechapter-algorithm/leetcode-linghu-templete">æ¨¡æ¿å‚è€ƒ</a></p>
  </li>
  <li>
    <p><a href="https://labuladong.github.io/algo/ds-class/">labuladong</a></p>
  </li>
  <li>
    <p><a href="https://www.crackingthecodinginterview.com/">Cracking the Coding Interview</a></p>
  </li>
  <li>
    <p><a href="https://leetcode-solution-leetcode-pp.gitbook.io/leetcode-solution/thinkings/heap">åŠ›æ‰£åŠ åŠ </a></p>
  </li>
</ul>

      </section>
    </div>
  </body>
</html>
